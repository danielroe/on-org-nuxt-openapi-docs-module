import{_ as W,a as J,b as F,c as z,d as V,e as G}from"./SearchBlock.zjbCsXBR.js";import{_ as K}from"./client-only.gNT5aGZS.js";import{f as Q,h as X,j as Y,r as w,k as o,g as Z,l as ee,c as se,u as e,m as d,b as I,w as ne,n as te,o as h}from"./entry.tMswm5PA.js";import{u as ae}from"./vue.f36acd1f.S-4yh9PD.js";import{d as oe}from"./docs.collapsable.config.DfVax5NA.js";import"./nuxt-link.o_QJ7VHF.js";import"./OpenApiDropdown.o3VUtLxc.js";const r={openapi:"3.0.0",info:{title:"Collapsible Tags",version:"1.0.0",description:`<p>Tags in openapi are used for grouping and ordering operations.<br/>
In RapiDoc&#39;s <code>view</code> mode these tags acts like an accordions, which you can expand or collapse.</p>
<p>By default all the tags are expanded, but if you wish to collapse certain tags at the beginning when the spec is loaded,<br/>
you may do so by using <code>x-tag-expanded</code> extension under <code>tags</code> section which can contain <code>true</code> or <code>false</code></p>
<p>below is an example how to achieve it</p>
<pre><code class="hljs language-yaml">  <span class="hljs-attr">openapi:</span> <span class="hljs-number">3.0</span><span class="hljs-number">.0</span>
  <span class="hljs-attr">info:</span>
    <span class="hljs-attr">version:</span> <span class="hljs-number">1.0</span><span class="hljs-number">.0</span>
    <span class="hljs-attr">title:</span> <span class="hljs-string">Collapsible</span> <span class="hljs-string">Tags</span>
  <span class="hljs-attr">paths:</span>
    <span class="hljs-string">...</span>
    <span class="hljs-string">...</span>
  <span class="hljs-attr">tags:</span>
    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">My</span> <span class="hljs-string">Tag</span> <span class="hljs-number">1</span>
    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">My</span> <span class="hljs-string">Tag</span> <span class="hljs-number">2</span>
      <span class="hljs-attr">x-tag-expanded:</span> <span class="hljs-literal">false</span> <span class="hljs-comment"># &lt;-- extension to control expand collapse tags in RapiDoc</span>
    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">My</span> <span class="hljs-string">Tag</span> <span class="hljs-number">3</span>
    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">My</span> <span class="hljs-string">Tag</span> <span class="hljs-number">4</span>
</code></pre>
<p>Even if a tag is closed, you can create links to operations inside them.<br/> 
Upon clicking the link, it will open the tag if it is closed and navigate to operation&#39;s location </p>
<p>Example: <strong><a href="#get-/path1-in-closed-tag">Link</a></strong> for <code>path1-in-closed-tag</code></p>
`},paths:{"/path1-in-open-tag":{get:{summary:"Path 1 under open tag",tags:["Open"],parameters:[{name:"name",in:"query",schema:{type:"string"}},{name:"age",in:"query",schema:{type:"integer"}}],responses:{200:{description:"Happy response",content:{"application/json":{schema:"#/components/schemas/user"}}}}}},"/path2-in-open-tag":{get:{summary:"Path 2 under open tag",tags:["Open"],parameters:[{name:"name",in:"query",schema:{type:"string"}}],responses:{200:{description:"Happy response",content:{"application/json":{schema:"#/components/schemas/job"}}}}}},"/path1-in-closed-tag":{get:{summary:"Path 1 under closed tag",tags:["Closed"],parameters:[{name:"city",in:"query",schema:{type:"string"}},{name:"state",in:"query",schema:{type:"string"}}],responses:{200:{description:"Happy response",content:{"application/json":{schema:"#/components/schemas/job"}}}}}},"/path2-in-closed-tag":{get:{summary:"Path 2 under closed tag",tags:["Closed"],parameters:[{name:"grade",in:"query",schema:{type:"string"}},{name:"salary",in:"query",schema:{type:"integer"}}],responses:{200:{description:"Happy response",content:{"application/json":{schema:"#/components/schemas/job"}}}}}},"/No-Tags":{get:{summary:"This path dont have any tag associated with it. (It gets created from the path)",responses:{200:{description:"Happy response",content:{"application/json":{schema:"#/components/schemas/user"}}}},tags:["other"]}}},tags:{open:{name:"Open",description:`<p>This tag is <strong>open</strong> by default, and it contains 2 paths inside it.</p>
`},closed:{name:"Closed",description:`<p>This tag is <strong>closed</strong> in the begining when the spec loads. It achieved by using <code>x-tag-expanded</code> extension</p>
`,"x-tag-expanded":!1}},components:{schemas:{user:{type:"object",properties:{id:{description:"User ID",type:"integer"},email:{description:"User Email",type:"string"},name:{description:"First Name",type:"string"}}},job:{type:"object",properties:{job:{type:"string"},grade:{type:"string"}}}}}},re={class:"content-container"},ge=Q({__name:"collapsable",setup(le){const v=X(),L=Y(),{$openapidoc:f,$openapidocBus:b,$openapidocRef:_}=te(),y=w(""),A=w(0),j=w(oe.path.toString()),c=w(r??{}),g=o(()=>"collapsable"),a=o(()=>v.params.type.toString()),P=o(()=>(v.params.mathod??"default").toString()),C=o(()=>a.value==="info"),S=o(()=>a.value==="auth"),T=o(()=>a.value==="components"),m=o(()=>f.currentLocale());_.setComponents(r.components),_.setDefinitions(r.definitions),_.setDocPath(j.value),_.setFile(g.value);const l=o(()=>{const n={...r.paths};if(!n)return null;for(const t in n){let s=t.toString();if(s.startsWith("/")&&(s=s.substring(1)),s.endsWith("/")&&(s=s.substring(-1)),s=s.replace(/[/\\.?+=&{}]/gumi,"_").replace(/__+/,"_"),s===P.value)return y.value=t.toString(),n[t]??null}return null}),p=o(()=>{const n={...r.webhooks};if(!n)return null;for(const t in n){let s=t.toString();if(s.startsWith("/")&&(s=s.substring(1)),s.endsWith("/")&&(s=s.substring(-1)),s=s.replace(/[/\\.?+=&{}]/gumi,"_").replace(/__+/,"_"),s===P.value)return y.value=t.toString(),n[t][a.value]??null}return null}),u=o(()=>l.value?l.value[a.value]??null:null),D=o(()=>l.value?l.value.parameters??null:null),U=o(()=>{const n=f.currentLocale()??"";return C.value?"[collapsable] - Info Docs":S.value?"[collapsable] - Authorization":T.value?"[collapsable] - Components Docs":u.value?"[collapsable] - "+(u.value["x-summary-"+n.value]||u.value.summary||""):""}),$=o(()=>{const n=f.currentLocale()??"";return C.value?"[collapsable] - Info Docs":S.value?"[collapsable] - Authorization":T.value?"[collapsable] - Components Docs":u.value&&(u.value["x-description-"+n.value]||u.value.description)||""});ae({title:U.value,meta:[{name:"description",content:$.value}],htmlAttrs:{lang:m.value},bodyAttrs:{class:"oapi"}});const O=o(()=>{if(l.value){if(l.value.servers&&l.value.servers[0])return l.value.servers[0].url??null;if(l.value[a.value]&&l.value[a.value].servers&&l.value[a.value].servers[0])return l.value[a.value].servers[0].url??null}if(p.value){if(p.value.servers&&p.value.servers[0])return p.value.servers[0].url??null;if(p.value[a.value]&&p.value[a.value].servers&&p.value[a.value].servers[0])return p.value[a.value].servers[0].url??null}let n=A.value;if(n>0&&r.servers&&!r.servers[n]&&(n=0),!r.servers||!r.servers[n])return"";if(r.servers[n].variables){const t=Object.values(r.servers[n].variables)??[];if(t&&t.length)return t[0].default}return r.servers[n].url??""});function R(n){A.value=n}function B(){var t;(((t=document.querySelector(".content-container"))==null?void 0:t.querySelectorAll("h1[id], h2[id], h3[id], h4[id]"))??[]).forEach(s=>{s.addEventListener("click",i=>{const x=s.getAttribute("id"),k=window.location.origin+window.location.pathname+"#"+x;f.copyToClipboard(k,i,!1),L.push({path:v.path,hash:"#"+x}),setTimeout(()=>{s.scrollIntoView({behavior:"smooth",block:"start"})},100)})})}function E(){if(v.hash)return;const n=document.querySelector(".oapi-content");n&&(n.scrollTop=0)}function q(){const n=JSON.stringify(r,null,4),t=new Blob([n],{type:"application/json"}),s=URL.createObjectURL(t),i=document.createElement("a");i.href=s,i.download=g.value+".json",document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(s)}return Z(()=>{b.$on("downloadJsonDoc",q),b.$on("changeServer",R),E(),B()}),ee(()=>{b.$off("downloadJsonDoc",q),b.$off("changeServer",R)}),(n,t)=>{const s=W,i=J,x=F,k=z,N=G,H=V,M=K;return h(),se("div",re,[e(C)&&e(c).info?(h(),d(s,{key:0,info:e(c).info,servers:e(c).servers,"current-locale":e(m)},null,8,["info","servers","current-locale"])):e(S)&&e(c).components?(h(),d(i,{key:1,components:e(c).components,"current-locale":e(m)},null,8,["components","current-locale"])):e(T)&&e(c).components?(h(),d(x,{key:2,components:e(c).components,"current-locale":e(m)},null,8,["components","current-locale"])):e(u)?(h(),d(k,{key:3,route:e(u),"current-locale":e(m),method:e(a),components:e(c).components,url:e(y),path_doc:e(j),file:e(g),server:e(O),"sub-params":e(D)},null,8,["route","current-locale","method","components","url","path_doc","file","server","sub-params"])):e(p)?(h(),d(k,{key:4,route:e(p),"current-locale":e(m),method:e(a),components:e(c).components,url:e(y),path_doc:e(j),file:e(g),server:e(O),"sub-params":e(D)},null,8,["route","current-locale","method","components","url","path_doc","file","server","sub-params"])):(h(),d(N,{key:5})),I(M,null,{default:ne(()=>[I(H,{"current-locale":e(m),doc:e(c),path:e(j),file:e(g)},null,8,["current-locale","doc","path","file"])]),_:1})])}}});export{ge as default};
