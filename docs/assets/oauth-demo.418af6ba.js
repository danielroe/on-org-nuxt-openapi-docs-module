import{_ as J,a as F,b as G,c as V,d as H,e as M}from"./SearchBlock.c303c9e2.js";import{_ as K}from"./client-only.3a82950f.js";import{f as Q,h as X,j as Y,r as S,k as s,g as Z,l as ee,c as oe,u as e,m,b as z,w as te,n as ne,o as h}from"./entry.fb805d14.js";import{u as re}from"./vue.f36acd1f.c0336c75.js";import{d as se}from"./docs.oauth-demo.config.8d70d0fc.js";import"./nuxt-link.c634151e.js";import"./OpenApiDropdown.4032f810.js";const a={openapi:"3.0.1",info:{title:"Identity Server",description:`<p>OAuth Demo using <a href="https://demo.duendesoftware.com/" target="_blank">IdentityServer</a></p>
`,version:"1.0"},servers:[{url:"https://demo.duendesoftware.com"}],components:{securitySchemes:{"short-lived-oauth":{type:"oauth2",description:"Provides an OAuth token thats valid for short duration ~75 seconds","x-client-id":"interactive.confidential.short","x-client-secret":"secret","x-default-scopes":"openid",flows:{authorizationCode:{authorizationUrl:"https://demo.duendesoftware.com/connect/authorize",tokenUrl:"https://demo.duendesoftware.com/connect/token",scopes:{openid:"OpenID",email:"Email",profile:"Profile"}}}},"long-lived-oauth":{type:"oauth2",description:"Provides an OAuth token thats valid for long durations",flows:{authorizationCode:{authorizationUrl:"https://demo.duendesoftware.com/connect/authorize",tokenUrl:"https://demo.duendesoftware.com/connect/token","x-client-id":"interactive.confidential","x-client-secret":"secret","x-default-scopes":"openid","x-pkce-only":!0,scopes:{openid:"OpenID",email:"Email",profile:"Profile"}}}}}},paths:{"/api/test":{get:{summary:"Test API",description:`This API needs an oAuth token with \`api\` scope. This information can also be found when you hover over Authentication info 
provided besides the lock icon in the top-right section of this operation. 
&lt;br/&gt;
Every operation which has security requiremnts will contain this icon and the details can be checked by hovering above it
`,security:[{"short-lived-oauth":null},{"long-lived-oauth":null}],responses:{200:{description:"Successful operation"}},tags:["other"]}},"/connect/userinfo":{get:{summary:"Get User Info",description:`This API needs an oAuth token with following one or more scopes
  - \`openid\`
  - \`email\`
  - \`profile\`

based on the scopes in the oAuth token, it will change the response shape. 
Give it a try by aquiring token with various scope combinations and check out the responses  
`,security:[{"short-lived-oauth":["openid","email","profile"]},{"long-lived-oauth":["openid","email","profile"]}],responses:{200:{description:"Successful operation"}},tags:["other"]}}},tags:{}},ae={class:"content-container"},ve=Q({__name:"oauth-demo",setup(le){const f=X(),T=Y(),{$openapidoc:_,$openapidocBus:b,$openapidocRef:g}=ne(),y=S(""),I=S(0),k=S(se.path.toString()),i=S(a??{}),v=s(()=>"oauth-demo"),r=s(()=>f.params.type.toString()),O=s(()=>(f.params.mathod??"default").toString()),x=s(()=>r.value==="info"),P=s(()=>r.value==="auth"),C=s(()=>r.value==="components"),d=s(()=>_.currentLocale());g.setComponents(a.components),g.setDefinitions(a.definitions),g.setDocPath(k.value),g.setFile(v.value);const l=s(()=>{const t={...a.paths};if(!t)return null;for(const n in t){let o=n.toString();if(o.startsWith("/")&&(o=o.substring(1)),o.endsWith("/")&&(o=o.substring(-1)),o=o.replace(/[/\\.?+=&{}]/gumi,"_").replace(/__+/,"_"),o===O.value)return y.value=n.toString(),t[n]??null}return null}),c=s(()=>{const t={...a.webhooks};if(!t)return null;for(const n in t){let o=n.toString();if(o.startsWith("/")&&(o=o.substring(1)),o.endsWith("/")&&(o=o.substring(-1)),o=o.replace(/[/\\.?+=&{}]/gumi,"_").replace(/__+/,"_"),o===O.value)return y.value=n.toString(),t[n][r.value]??null}return null}),p=s(()=>l.value?l.value[r.value]??null:null),D=s(()=>l.value?l.value.parameters??null:null),$=s(()=>{const t=_.currentLocale()??"";return x.value?"[oauth-demo] - Info Docs":P.value?"[oauth-demo] - Authorization":C.value?"[oauth-demo] - Components Docs":p.value?"[oauth-demo] - "+(p.value["x-summary-"+t.value]||p.value.summary||""):""}),j=s(()=>{const t=_.currentLocale()??"";return x.value?"[oauth-demo] - Info Docs":P.value?"[oauth-demo] - Authorization":C.value?"[oauth-demo] - Components Docs":p.value&&(p.value["x-description-"+t.value]||p.value.description)||""});re({title:$.value,meta:[{name:"description",content:j.value}],htmlAttrs:{lang:d.value},bodyAttrs:{class:"oapi"}});const U=s(()=>{if(l.value){if(l.value.servers&&l.value.servers[0])return l.value.servers[0].url??null;if(l.value[r.value]&&l.value[r.value].servers&&l.value[r.value].servers[0])return l.value[r.value].servers[0].url??null}if(c.value){if(c.value.servers&&c.value.servers[0])return c.value.servers[0].url??null;if(c.value[r.value]&&c.value[r.value].servers&&c.value[r.value].servers[0])return c.value[r.value].servers[0].url??null}let t=I.value;if(t>0&&a.servers&&!a.servers[t]&&(t=0),!a.servers||!a.servers[t])return"";if(a.servers[t].variables){const n=Object.values(a.servers[t].variables)??[];if(n&&n.length)return n[0].default}return a.servers[t].url??""});function L(t){I.value=t}function E(){var n;(((n=document.querySelector(".content-container"))==null?void 0:n.querySelectorAll("h1[id], h2[id], h3[id], h4[id]"))??[]).forEach(o=>{o.addEventListener("click",u=>{const w=o.getAttribute("id"),A=window.location.origin+window.location.pathname+"#"+w;_.copyToClipboard(A,u,!1),T.push({path:f.path,hash:"#"+w}),setTimeout(()=>{o.scrollIntoView({behavior:"smooth",block:"start"})},100)})})}function B(){if(f.hash)return;const t=document.querySelector(".oapi-content");t&&(t.scrollTop=0)}function R(){const t=JSON.stringify(a,null,4),n=new Blob([t],{type:"application/json"}),o=URL.createObjectURL(n),u=document.createElement("a");u.href=o,u.download=v.value+".json",document.body.appendChild(u),u.click(),document.body.removeChild(u),URL.revokeObjectURL(o)}return Z(()=>{b.$on("downloadJsonDoc",R),b.$on("changeServer",L),B(),E()}),ee(()=>{b.$off("downloadJsonDoc",R),b.$off("changeServer",L)}),(t,n)=>{const o=J,u=F,w=G,A=V,q=M,N=H,W=K;return h(),oe("div",ae,[e(x)&&e(i).info?(h(),m(o,{key:0,info:e(i).info,servers:e(i).servers,"current-locale":e(d)},null,8,["info","servers","current-locale"])):e(P)&&e(i).components?(h(),m(u,{key:1,components:e(i).components,"current-locale":e(d)},null,8,["components","current-locale"])):e(C)&&e(i).components?(h(),m(w,{key:2,components:e(i).components,"current-locale":e(d)},null,8,["components","current-locale"])):e(p)?(h(),m(A,{key:3,route:e(p),"current-locale":e(d),method:e(r),components:e(i).components,url:e(y),path_doc:e(k),file:e(v),server:e(U),"sub-params":e(D)},null,8,["route","current-locale","method","components","url","path_doc","file","server","sub-params"])):e(c)?(h(),m(A,{key:4,route:e(c),"current-locale":e(d),method:e(r),components:e(i).components,url:e(y),path_doc:e(k),file:e(v),server:e(U),"sub-params":e(D)},null,8,["route","current-locale","method","components","url","path_doc","file","server","sub-params"])):(h(),m(q,{key:5})),z(W,null,{default:te(()=>[z(N,{"current-locale":e(d),doc:e(i),path:e(k),file:e(v)},null,8,["current-locale","doc","path","file"])]),_:1})])}}});export{ve as default};
