import{_ as W,a as J,b as F,c as z,d as V,e as G}from"./SearchBlock.3e19f150.js";import{_ as K}from"./client-only.45c4cd0b.js";import{f as Q,h as X,j as Y,r as k,k as o,g as Z,l as ee,c as se,u as e,m,b as I,w as ne,n as ae,o as h}from"./entry.4698dbd5.js";import{u as te}from"./vue.f36acd1f.e66bd35a.js";import{d as oe}from"./docs.collapsable.config.382adc3d.js";import"./nuxt-link.d2cc8467.js";import"./OpenApiDropdown.6e2e3875.js";const A={openapi:"3.0.0",info:{title:"Collapsible Tags",version:"1.0.0",description:`<p>Tags in openapi are used for grouping and ordering operations.<br/>
In RapiDoc&#39;s <code>view</code> mode these tags acts like an accordions, which you can expand or collapse.</p>
<p>By default all the tags are expanded, but if you wish to collapse certain tags at the beginning when the spec is loaded,<br/>
you may do so by using <code>x-tag-expanded</code> extension under <code>tags</code> section which can contain <code>true</code> or <code>false</code></p>
<p>below is an example how to achieve it</p>
<pre><code class="hljs language-yaml">  <span class="hljs-attr">openapi:</span> <span class="hljs-number">3.0</span><span class="hljs-number">.0</span>
  <span class="hljs-attr">info:</span>
    <span class="hljs-attr">version:</span> <span class="hljs-number">1.0</span><span class="hljs-number">.0</span>
    <span class="hljs-attr">title:</span> <span class="hljs-string">Collapsible</span> <span class="hljs-string">Tags</span>
  <span class="hljs-attr">paths:</span>
    <span class="hljs-string">...</span>
    <span class="hljs-string">...</span>
  <span class="hljs-attr">tags:</span>
    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">My</span> <span class="hljs-string">Tag</span> <span class="hljs-number">1</span>
    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">My</span> <span class="hljs-string">Tag</span> <span class="hljs-number">2</span>
      <span class="hljs-attr">x-tag-expanded:</span> <span class="hljs-literal">false</span> <span class="hljs-comment"># &lt;-- extension to control expand collapse tags in RapiDoc</span>
    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">My</span> <span class="hljs-string">Tag</span> <span class="hljs-number">3</span>
    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">My</span> <span class="hljs-string">Tag</span> <span class="hljs-number">4</span>
</code></pre>
<p>Even if a tag is closed, you can create links to operations inside them.<br/> 
Upon clicking the link, it will open the tag if it is closed and navigate to operation&#39;s location </p>
<p>Example: <strong><a href="#get-/path1-in-closed-tag">Link</a></strong> for <code>path1-in-closed-tag</code></p>
`},paths:{"/path1-in-open-tag":{get:{summary:"Path 1 under open tag",tags:["Open"],parameters:[{name:"name",in:"query",schema:{type:"string"}},{name:"age",in:"query",schema:{type:"integer"}}],responses:{200:{description:"Happy response",content:{"application/json":{schema:"#/components/schemas/user"}}}}}},"/path2-in-open-tag":{get:{summary:"Path 2 under open tag",tags:["Open"],parameters:[{name:"name",in:"query",schema:{type:"string"}}],responses:{200:{description:"Happy response",content:{"application/json":{schema:"#/components/schemas/job"}}}}}},"/path1-in-closed-tag":{get:{summary:"Path 1 under closed tag",tags:["Closed"],parameters:[{name:"city",in:"query",schema:{type:"string"}},{name:"state",in:"query",schema:{type:"string"}}],responses:{200:{description:"Happy response",content:{"application/json":{schema:"#/components/schemas/job"}}}}}},"/path2-in-closed-tag":{get:{summary:"Path 2 under closed tag",tags:["Closed"],parameters:[{name:"grade",in:"query",schema:{type:"string"}},{name:"salary",in:"query",schema:{type:"integer"}}],responses:{200:{description:"Happy response",content:{"application/json":{schema:"#/components/schemas/job"}}}}}},"/No-Tags":{get:{summary:"This path dont have any tag associated with it. (It gets created from the path)",responses:{200:{description:"Happy response",content:{"application/json":{schema:"#/components/schemas/user"}}}},tags:["other"]}}},tags:{open:{name:"Open",description:`<p>This tag is <strong>open</strong> by default, and it contains 2 paths inside it.</p>
`},closed:{name:"Closed",description:`<p>This tag is <strong>closed</strong> in the begining when the spec loads. It achieved by using <code>x-tag-expanded</code> extension</p>
`,"x-tag-expanded":!1}},components:{schemas:{user:{type:"object",properties:{id:{description:"User ID",type:"integer"},email:{description:"User Email",type:"string"},name:{description:"First Name",type:"string"}}},job:{type:"object",properties:{job:{type:"string"},grade:{type:"string"}}}}}},le={class:"content-container"},ve=Q({__name:"collapsable",setup(re){const v=X(),L=Y(),{$openapidoc:g,$openapidocBus:f,$openapidocRef:b}=ae(),_=k(""),S=k(0),y=k(oe.path.toString()),a=k(A??{}),d=o(()=>"collapsable"),t=o(()=>v.params.type.toString()),P=o(()=>(v.params.mathod??"default").toString()),w=o(()=>t.value==="info"),C=o(()=>t.value==="auth"),T=o(()=>t.value==="components"),u=o(()=>g.currentLocale());b.setComponents(A.components),b.setDefinitions(A.definitions),b.setDocPath(y.value),b.setFile(d.value);const l=o(()=>{if(!a.value.paths)return null;for(let n in a.value.paths){let s=n;if(s.startsWith("/")&&(s=s.substring(1)),s.endsWith("/")&&(s=s.substring(-1)),s=s.replace(/[/\\.?+=&{}]/gumi,"_").replace(/__+/,"_"),s===P.value)return _.value=n,a.value.paths[n]??null}return null}),r=o(()=>{if(!a.value.webhooks)return null;for(let n in a.value.webhooks){let s=n;if(s.startsWith("/")&&(s=s.substring(1)),s.endsWith("/")&&(s=s.substring(-1)),s=s.replace(/[/\\.?+=&{}]/gumi,"_").replace(/__+/,"_"),s===P.value)return _.value=n,a.value.webhooks[n][t.value]??null}return null}),i=o(()=>l.value?l.value[t.value]??null:null),D=o(()=>l.value?l.value.parameters??null:null),U=o(()=>{const n=g.currentLocale()??"";return w.value?"[collapsable] - Info Docs":C.value?"[collapsable] - Authorization":T.value?"[collapsable] - Components Docs":i.value?"[collapsable] - "+(i.value["x-summary-"+n.value]||i.value.summary||""):""}),B=o(()=>{const n=g.currentLocale()??"";return w.value?"[collapsable] - Info Docs":C.value?"[collapsable] - Authorization":T.value?"[collapsable] - Components Docs":i.value&&(i.value["x-description-"+n.value]||i.value.description)||""});te({title:U.value,meta:[{name:"description",content:B.value}],htmlAttrs:{lang:u.value},bodyAttrs:{class:"oapi"}});const O=o(()=>{if(l.value){if(l.value.servers&&l.value.servers[0])return l.value.servers[0].url??null;if(l.value[t.value]&&l.value[t.value].servers&&l.value[t.value].servers[0])return l.value[t.value].servers[0].url??null}if(r.value){if(r.value.servers&&r.value.servers[0])return r.value.servers[0].url??null;if(r.value[t.value]&&r.value[t.value].servers&&r.value[t.value].servers[0])return r.value[t.value].servers[0].url??null}let n=S.value;if(n>0&&a.value.servers&&!a.value.servers[n]&&(n=0),!a.value.servers||!a.value.servers[n])return"";if(a.value.servers[n].variables){const s=Object.values(a.value.servers[n].variables)??[];if(s&&s.length)return s[0].default}return a.value.servers[n].url??""});function R(n){S.value=n}function E(){var s;(((s=document.querySelector(".content-container"))==null?void 0:s.querySelectorAll("h1[id], h2[id], h3[id], h4[id]"))??[]).forEach(c=>{c.addEventListener("click",p=>{const j=c.getAttribute("id"),x=window.location.origin+window.location.pathname+"#"+j;g.copyToClipboard(x,p,!1),L.push({path:v.path,hash:"#"+j}),setTimeout(()=>{c.scrollIntoView({behavior:"smooth",block:"start"})},100)})})}function N(){if(v.hash)return;const n=document.querySelector(".oapi-content");n&&(n.scrollTop=0)}function q(){const n=JSON.stringify(a.value,null,4),s=new Blob([n],{type:"application/json"}),c=URL.createObjectURL(s),p=document.createElement("a");p.href=c,p.download=d.value+".json",document.body.appendChild(p),p.click(),document.body.removeChild(p),URL.revokeObjectURL(c)}return Z(()=>{f.$on("downloadJsonDoc",q),f.$on("changeServer",R),N(),E()}),ee(()=>{f.$off("downloadJsonDoc",q),f.$off("changeServer",R)}),(n,s)=>{const c=W,p=J,j=F,x=z,$=G,H=V,M=K;return h(),se("div",le,[e(w)&&e(a).info?(h(),m(c,{key:0,info:e(a).info,servers:e(a).servers,"current-locale":e(u)},null,8,["info","servers","current-locale"])):e(C)&&e(a).components?(h(),m(p,{key:1,components:e(a).components,"current-locale":e(u)},null,8,["components","current-locale"])):e(T)&&e(a).components?(h(),m(j,{key:2,components:e(a).components,"current-locale":e(u)},null,8,["components","current-locale"])):e(i)?(h(),m(x,{key:3,route:e(i),"current-locale":e(u),method:e(t),components:e(a).components,url:e(_),path_doc:e(y),file:e(d),server:e(O),"sub-params":e(D)},null,8,["route","current-locale","method","components","url","path_doc","file","server","sub-params"])):e(r)?(h(),m(x,{key:4,route:e(r),"current-locale":e(u),method:e(t),components:e(a).components,url:e(_),path_doc:e(y),file:e(d),server:e(O),"sub-params":e(D)},null,8,["route","current-locale","method","components","url","path_doc","file","server","sub-params"])):(h(),m($,{key:5})),I(M,null,{default:ne(()=>[I(H,{"current-locale":e(u),doc:e(a),path:e(y),file:e(d)},null,8,["current-locale","doc","path","file"])]),_:1})])}}});export{ve as default};
