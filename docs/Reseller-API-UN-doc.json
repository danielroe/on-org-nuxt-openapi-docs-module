{"openapi":"3.0.0","x-stoplight":{"id":"8ehppdiq8kulb"},"x-custom-path":{"name":"Custom","x-name-ru":"Прочее","paths":{"countries":{"title":"Countries","x-title-ru":"Страны"},"services":{"title":"Services","x-title-ru":"Сервисы"},"operators":{"title":"Operators","x-title-ru":"Операторы"},"testing":{"title":"Testing","x-title-ru":"Тестирование"}}},"info":{"title":"Reseller API","x-title-ru":"API для партнеров","x-locales":{"en":"English","ru":"Русский"},"x-locales-reload":true,"version":"1.0","x-description-ru":"<h2 id=\"общее-описание\">Общее описание</h2>\n<p>Данное API предназначено для текущих и потенциальных партнеров Onlinesim. Оно позволяет монетизировать Ваши номера,предоставляя их нашим клиентам для приема SMS от различных сервисов и приложений.</p>\n<p>На данный момент реализовано две версии API:</p>\n<ul>\n<li>v1 служит для запросов у Вашего сервера номеров с определенными параметрами;</li>\n<li>v2 имеет обратную схему: Вы отправляете нам все имеющиеся номера, которые становятся доступны для использования клиентами.</li>\n</ul>\n<blockquote>\n<p><strong>Счет клиенту выставляется за операцию, а не за отдельные SMS. Зачисление средств производится при успешном завершении операции.</strong></p>\n<p>Операция может длится от 15 минут (для услуги &quot;Прием SMS&quot;) до нескольких месяцев (для услуги &quot;Аренда номера&quot;) и включать в себя несколько SMS. Продолжая, Вы соглашаетесь с данным условием.</p>\n</blockquote>\n<blockquote>\n<p><strong>Оба API требуют активации партнерского аккаунта Onlinesim!</strong>\nВам необходимо зарегистрировать профиль Onlinesim и связаться с поддержкой для получении информации о подключении, чтобы получить доступ к этим API.\nВ этой документации мы будем использовать аутентификацию по API ключу для простоты, однако помимо этого доступны и другие методы аутентификации\n(более подробно можно посмотреть в соответствующем разделе (<a href=\"%22/ru/openapi_docs/Reseller-API-UN/auth%22\">Авторизация</a>).</p>\n</blockquote>\n<h3 id=\"v1-api\">v1 API</h3>\n<p>Соединение и конфигурация для этого API индивидуальны, поэтому Вам нужно связаться с техподдержкой для уточнения подробностей интеграции.\nВсе взаимодействие происходит через HTTP POST и/или GET запросы между указанным Вами и нашей поддержкой endpoint&#39;ами. <img src=\"https://onlinesim.io/assets/schemes/Interaction%20scheme%20(RU)%20%5Binfo%5D.png\" alt=\"API v1\"></p>\n<blockquote>\n<p><strong>Это API также потребует имплементации функционала для исключения выдачи номеров по их маскам.</strong></p>\n</blockquote>\n<h4 id=\"чек-лист-для-интеграции\">Чек-лист для интеграции:</h4>\n<ol>\n<li>Необходимо реализовать 3 метода и webhook.\n<a href=\"%22/ru/openapi_docs/Reseller-API-UN/post/getServices%22\">GET_SERVICES</a> - запрашивает у Вашего сервера количество номеров по странам и сервисам\n<a href=\"%22/ru/openapi_docs/Reseller-API-UN/post/getNumber%22\">GET_NUMBER</a> - резервирует номер на 15 минут с заданными параметрами для получения SMS сообщений от одного конкретного сервиса за указанную сумму\n<a href=\"%22/ru/openapi_docs/Reseller-API-UN/post/pushSms%22\">PUSH_SMS (webhook)</a> - при получении номером SMS, Ваш сервер отправляет на наш сервер поступившие на этот номер сообщения\n<a href=\"%22/ru/openapi_docs/Reseller-API-UN/post/finishActivation%22\">FINISH_ACTIVATION</a> - закрывает операцию с определенными параметрами (в зависимости от результата)</li>\n<li>Написать нам на e-mail или в Telegram для создания профиля партнера, предоставления URL для запросов с нашей стороны, получения ссылки для webhook&#39;a и тестирования номеров.</li>\n<li>После успешно проведенных тестов Ваши номера будут доступны нашим клиентам в течение нескольких часов</li>\n</ol>\n<h4 id=\"требования-для-v1\">Требования для v1:</h4>\n<ol>\n<li><em>Формат запроса / ответа: JSON4</em></li>\n<li><em>Кодировка: UTF-8</em></li>\n<li><em>Убедитесь, что user-agent включен в заголовки запроса</em></li>\n<li><em>Все запросы / ответы используют метод компрессии gzip</em></li>\n<li><em>Используемые названия стран и сервисов в ответе GET_SERVICES должны совпадать с соответсвующими списками <a href=\"%22./countries%22\">стран</a> и <a href=\"%22./services%22\">сервисов</a></em></li>\n<li><em>Один номер должен использоваться только для одной операции одновременно: Ваш сервер может выдать этот же номер для другого сервиса только после того, как предыдущая операция будет завершена</em></li>\n<li><em>Необходимо реализовать функционал для исключения выдачи номеров с определенными масками</em></li>\n<li><em>Webhook <a href=\"%22/ru/openapi_docs/Reseller-API-UN/post/pushSms%22\">PUSH_SMS</a>: Ваш сервер должен автоматически пересылать SMS, полученные номерами с активными операциями, на сервер Onlinesim</em></li>\n<li><em>Фильтрация может производиться как на нашей, так и на Вашей стороне. Перед интреграцией сообщите, какой из вариантов является предпочтительным для Вас</em></li>\n</ol>\n<h3 id=\"v2-api\">v2 API</h3>\n<p>OnlineSim Reseller API v2 дает возможность интегрировать Ваше оборудование и номера для их последующего использования клиентами под прием SMS через наш сайт, главным плюсом v2 является простота интеграции.\nДля начала работы вам необходимо:</p>\n<ol>\n<li>Реализовать 2 метода:</li>\n</ol>\n<ul>\n<li><p><a href=\"%22/ru/openapi_docs/Reseller-API-UN/post/api_resellers_sendNumbersOnline%22\">sendNumbersOnline</a> - передает список Ваших номеров к нам на сервер,\nданный запрос должен отправляться каждые 5 минут для обновления списка номеров и как подтверждение аптайма Вашего сервера;</p>\n</li>\n<li><p><a href=\"%22/ru/openapi_docs/Reseller-API-UN/post/api_resellers_addMessage%22\">addMessage</a> - пересылает полученные Вашим сервером сообщения нам.</p>\n<blockquote>\n<p>Если Вы планируете использовать большое количество номеров и отправка <a href=\"%22/ru/openapi_docs/Reseller-API-UN/post/api_resellers_sendNumbersOnline%22\">sendNumbersOnline</a> каждые 5 минут в качестве\n  подтверждения аптайма для Вас будет затруднительна, мы рекомендуем воспользоваться альтернативным вариантом - запросом <a href=\"%22/ru/openapi_docs/Reseller-API-UN/post/api_resellers_checkWork%22\">checkWork</a>.</p>\n</blockquote>\n</li>\n</ul>\n<ol start=\"2\">\n<li>Связаться с поддержкой, чтобы получить <code>_SERVER_URL_</code></li>\n<li>Остальные запросы опциональны, реализовывать их необязательно, но их описание доступно в документации.</li>\n<li>У запросов есть необязательный параметр <code>test</code>, который может быть использован для тестирования. Он может принимать значения <code>test1</code> и <code>test2</code>, будучи равным первому, он позволит запросу дойти до сервера,\nоднако не вызовет исполнения функции. Если ему задать значение <code>test2</code>, то он вернет тело Вашего запроса в ответе.</li>\n</ol>\n<p>После того как Вы получите ответ об успешно выполненном запросе <a href=\"%22/ru/openapi_docs/Reseller-API-UN/post/api_resellers_sendNumbersOnline%22\">sendNumbersOnline</a>,\nсотрудники партнерской поддержки проверят, получает ли наш сервер сообщения с помощью запроса <a href=\"%22/ru/openapi_docs/Reseller-API-UN/post/api_resellers_addMessage%22\">addMessage</a>.\nВ случае успеха Ваши номера будут доступнынашим клиентам уже через нескольких часов.</p>\n<hr>\n<h1 id=\"авторизация\">Авторизация</h1>\n<hr>\n<ul>\n<li><a href=\"#about\">Общая информация</a></li>\n<li><a href=\"#APIKEY\">1. APIKEY</a></li>\n<li><a href=\"#OAUTH\">2. OAUTH 2.0</a><ul>\n<li><a href=\"#AUTHCODE\">Authorization code</a></li>\n<li><a href=\"#IMPLICIT\">Implicit</a></li>\n</ul>\n</li>\n</ul>\n<h2 id=\"общая-информация\"><a name=\"about\"></a>Общая информация</h2>\n<p> Для работы с нашим API Ваше приложение должно быть авторизовано Вашим пользователем. Для этого мы предоставляем несколько способов авторизации:  <strong><a href=\"#APIKEY\">APIKEY</a></strong>, <strong><a href=\"#AUTHCODE\">OAUTH 2.0 (Authorization code flow)</a></strong> и <strong><a href=\"#IMPLICIT\">OAUTH 2.0 (Implicit flow)</a></strong>. Вы можете выбрать любой наиболее удобный для Вас.</p>\n<p> <a name=\"API key\"></a></p>\n<h2 id=\"1-api-ключ\">1. API ключ</h2>\n<p> Секретный ключ, используемый для упрощенной авторизации в API OnlineSIM.</p>\n<hr>\n<h4 id=\"как-получить-api-ключ\">Как получить API ключ:</h4>\n<ol>\n<li>Авторизоваться в <a href=\"/auth/login\">личном кабинете</a>, перейти настройки профиля, выбрать вкладку &quot;API&quot;.</li>\n<li>Ключ будет указан в строке &quot;API key&quot;. Его необходимо скопировать и добавить в Ваше приложение/программу.</li>\n</ol>\n<hr>\n<h4 id=\"как-использовать\">Как использовать:</h4>\n<ol>\n<li>Все запросы к API OnlineSIM должны содержать API ключ.</li>\n<li>API ключ можно указать как параметр запроса:<blockquote>\n<p>Например:\n<a href=\"https://onlinesim.ru/api/getNumbersStats.php?apikey=%7B%7Bapi_key%7D%7D\">https://onlinesim.ru/api/getNumbersStats.php?apikey={{api_key}}</a></p>\n</blockquote>\n</li>\n<li>API ключ можно указать в заголовке запроса:<blockquote>\n<p>Например (Postman запрос):</p>\n</blockquote>\n<pre><code>Authorization: Bearer {{key}}\nUser-Agent: PostmanRuntime/7.29.2\nAccept: */\\*\nCache-Control: no-cache\nPostman-Token: 948bc880-8d25-4298-994f-fe6e22ada339\nHost: onlinesim.ru\nAccept-Encoding: gzip, deflate, br\nConnection: keep-alive\nCookie: xxxx\n</code></pre>\n</li>\n</ol>\n<p> Данный способ представляет упрощенную авторизацию. Мы рекомендуем использовать OAuth 2.0 для более безопасной работы с данными.</p>\n<p> <a name=\"OAUTH\"></a></p>\n<h2 id=\"2-oauth-20\">2. OAUTH 2.0</h2>\n<p> Протокол авторизации Oauth 2.0 поддерживает несколько видов авторизации. Для работы с нашим API можно использовать сценарии Authorization Code Flow или Implicit Flow.\n <img src=\"https://onlinesim.io/assets/schemes/OAuth%202.0%20scheme%20(RU)%20%5BAuthorization%5D.png\" alt=\"OAuth 2.0\"></p>\n<p> <a name=\"AUTHCODE\"></a></p>\n<h3 id=\"oauth-20-authorization-сode-flow\">OAuth 2.0. Authorization Сode Flow</h3>\n<blockquote>\n<p>В данном сценарии все строится вокруг кода авторизации, который служит промежуточным звеном между Вашим приложением и пользователем нашего сервиса. Вместо прямого запроса на авторизацию, Ваше приложение будет перенаправлять пользователя в наш сервис авторизации, где он сможет авторизовать Ваше приложение для работы с его данными.</p>\n</blockquote>\n<hr>\n<h4 id=\"регистрация-приложения-в-нашем-сервисе-авторизации\"><strong>Регистрация приложения в нашем сервисе авторизации:</strong></h4>\n<ol>\n<li>Перейти на <a href=\"https://onlinesim.ru/oauth\">страницу oauth</a>, при необходимости авторизоваться.</li>\n<li>Создать новое приложение, для этого нужно нажать &quot;Create New Client&quot;.</li>\n<li>В открывшемся окне необходимо заполнить обязательные поля:<ul>\n<li>Name - название приложения или любое другое название, которое будет ассоциироваться с Вашим приложением;</li>\n<li>Redirect URL - после авторизации пользователя в нашем сервисе авторизации, на данный URL будет перенаправлен клиент и отправлен код авторизации. Например, <code>https://client.example.com/redirect</code>;</li>\n<li>Confidential - требуется ли для доступа секретный ключ.</li>\n</ul>\n</li>\n</ol>\n <div class=\"text-center\" style=\"text-align: center;\">\n    <img src=\"https://stoplight.io/api/v1/projects/cHJqOjExNTgyNA/images/kmrH6HAGQrU\" style=\"width: 100%;\" alt=\"step 2\">\n </div>\n\n<ol start=\"4\">\n<li><p>Нажмите &quot;Create&quot;.</p>\n <div class=\"text-center\" style=\"text-align: center;\">\n ![step1.png](https://stoplight.io/api/v1/projects/cHJqOjExNTgyNA/images/wJTxpF1LGz4)\n </div>\n</li>\n<li><p>Client ID и Secret нужно добавить в Ваше приложение. Они понадобятся для авторизации.</p>\n</li>\n</ol>\n<hr>\n<h4 id=\"авторизация-пользователя-и-получение-токена\"><strong>Авторизация пользователя и получение токена:</strong></h4>\n<ol>\n<li>Для авторизации пользователя нужно сделать GET запрос к <a href=\"https://onlinesim.ru/oauth/authorize\">https://onlinesim.ru/oauth/authorize</a> с параметрами <em>client_id</em>, <em>redirect_uri</em>, <em>response_type</em>, <em>scope</em>, <em>state</em>:</li>\n</ol>\n<pre><code class=\"hljs language-php\"><span class=\"hljs-title function_ invoke__\">session</span>()-&gt;<span class=\"hljs-title function_ invoke__\">put</span>(<span class=\"hljs-string\">&#x27;state&#x27;</span>, <span class=\"hljs-variable\">$state</span> = <span class=\"hljs-title class_\">Str</span>::<span class=\"hljs-title function_ invoke__\">random</span>(<span class=\"hljs-number\">40</span>));\n<span class=\"hljs-variable\">$query</span> = <span class=\"hljs-title function_ invoke__\">http_build_query</span>([\n            <span class=\"hljs-string\">&#x27;client_id&#x27;</span> =&gt; <span class=\"hljs-variable\">$client_id</span>,\n            <span class=\"hljs-string\">&#x27;redirect_uri&#x27;</span> =&gt; <span class=\"hljs-string\">&#x27;https://client.example.com/redirect&#x27;</span>,\n            <span class=\"hljs-string\">&#x27;response_type&#x27;</span> =&gt; <span class=\"hljs-string\">&#x27;code&#x27;</span>,\n            <span class=\"hljs-string\">&#x27;scope&#x27;</span> =&gt; <span class=\"hljs-string\">&#x27;sms-scope rent-scope&#x27;</span>,\n            <span class=\"hljs-string\">&#x27;state&#x27;</span> =&gt; <span class=\"hljs-variable\">$state</span>,\n]);\n<span class=\"hljs-keyword\">return</span> <span class=\"hljs-title function_ invoke__\">redirect</span>(<span class=\"hljs-string\">&quot;https://onlinesim.ru/oauth/authorize?&quot;</span>.<span class=\"hljs-variable\">$query</span>);\n</code></pre>\n<blockquote>\n<p>Описание параметров</p>\n</blockquote>\n<table class=\"table\">\n<tr>\n<th>Название параметра</th>\n<th align=\"center\">Тип данных</th>\n<th>Описание</th>\n</tr>\n<tr>\n<td>client_id</td>\n<td align=\"center\">STRING</td>\n<td>Client ID, который был получен при регистрации приложения</td>\n</tr>\n<tr>\n<td>redirect_uri</td>\n<td align=\"center\">STRING</td>\n<td>Адрес на который будет перенаправлен клиент, после успешной авторизации, должен совпадать с Redirect URL при добавлении приложения.</td>\n</tr>\n<tr>\n<td>response_type</td>\n<td align=\"center\">STRING</td>\n<td>Указать &quot;code&quot;</td>\n</tr>\n<tr>\n<td>scope</td>\n<td align=\"center\">STRING</td>\n<td>Права доступа, разрешение на которые запрашивает Ваше приложение у пользователя. Возможные варианты: sms-scope, rent-scope, proxy-scope, free-scope. Можно указать несколько значений</td>\n</tr>\n<tr>\n<td>state</td>\n<td align=\"center\">STRING</td>\n<td>Значение состоящее из случайного набора символов, которое сервис авторизации вернет при обратном вызове. Рекомендуется использовать для предотвращения подделки межсайтовых запросов</td>\n</tr>\n</table>\n<blockquote>\n<p>Scopes:</p>\n</blockquote>\n<ul>\n<li>sms-scope - доступ к API и управлению номерами на приеме OnlineSIM;</li>\n<li>rent-scope - доступ к API и аренде новых сим-карт от лица пользователя OnlineSIM;</li>\n<li>proxy-scope - доступ к API и управлению прокси пользователя OnlineSIM;</li>\n<li>free-scope - доступ к API и управлению бесплатными номерами;</li>\n</ul>\n<ol start=\"2\">\n<li>После запроса к <a href=\"https://onlinesim.ru/oauth/authorize\">https://onlinesim.ru/oauth/authorize</a> пользователь из Вашего приложения будет перенаправлен на страницу авторизации, где ему необходимо указать логин пароль и, в случае успеха, авторизовать Ваше приложение для работы с данными пользователя в сервисе OnlineSIM. Для этого ему необходимо будет нажать кнопку <em>Authorize</em>:</li>\n</ol>\n <div class=\"text-center\" style=\"text-align: center;\">\n ![step2.png](https://stoplight.io/api/v1/projects/cHJqOjExNTgyNA/images/4xbY12EUqXY)\n </div>\n\n<ol start=\"3\">\n<li>В случае успешной авторизации пользователь будет перенаправлен по адресу <em>redirect_uri</em> с параметром <em>code</em>. Теперь Вы можете получить <em>access token</em>, для этого необходимо сделать POST запрос к <a href=\"https://onlinesim.ru/oauth/token\">https://onlinesim.ru/oauth/token</a>:</li>\n</ol>\n<pre><code class=\"hljs language-php\"><span class=\"hljs-variable\">$state</span> = <span class=\"hljs-title function_ invoke__\">session</span>()-&gt;<span class=\"hljs-title function_ invoke__\">pull</span>(<span class=\"hljs-string\">&#x27;state&#x27;</span>);\n\n<span class=\"hljs-keyword\">if</span>(<span class=\"hljs-title function_ invoke__\">strlen</span>(<span class=\"hljs-variable\">$state</span>) &gt; <span class=\"hljs-number\">0</span> &amp;&amp; <span class=\"hljs-variable\">$state</span> !== <span class=\"hljs-variable\">$request</span>-&gt;<span class=\"hljs-title function_ invoke__\">get</span>(<span class=\"hljs-string\">&#x27;state&#x27;</span>)) {\n      <span class=\"hljs-keyword\">throw</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-built_in\">InvalidArgumentException</span>();\n}\n\n<span class=\"hljs-variable\">$http</span> = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">GuzzleHttp\\Client</span>([\n      <span class=\"hljs-string\">&#x27;verify&#x27;</span> =&gt; <span class=\"hljs-literal\">false</span>\n]);\n\n<span class=\"hljs-variable\">$response</span> = <span class=\"hljs-variable\">$http</span>-&gt;<span class=\"hljs-title function_ invoke__\">post</span>(<span class=\"hljs-string\">&#x27;https://onlinesim.ru/oauth/token&#x27;</span>, [\n      <span class=\"hljs-string\">&#x27;form_params&#x27;</span> =&gt; [\n            <span class=\"hljs-string\">&#x27;grant_type&#x27;</span> =&gt; <span class=\"hljs-string\">&#x27;authorization_code&#x27;</span>,\n            <span class=\"hljs-string\">&#x27;client_id&#x27;</span> =&gt; <span class=\"hljs-variable\">$client_id</span>,\n            <span class=\"hljs-string\">&#x27;client_secret&#x27;</span> =&gt; <span class=\"hljs-variable\">$client_secret</span>,\n            <span class=\"hljs-string\">&#x27;redirect_uri&#x27;</span> =&gt; <span class=\"hljs-string\">&#x27;https://client.example.com/redirect&#x27;</span>,\n            <span class=\"hljs-string\">&#x27;code&#x27;</span> =&gt; <span class=\"hljs-variable\">$request</span>-&gt;code,\n      ;]\n]);\n\n<span class=\"hljs-keyword\">return</span> <span class=\"hljs-title function_ invoke__\">json_decode</span>((<span class=\"hljs-keyword\">string</span>) <span class=\"hljs-variable\">$response</span>-&gt;<span class=\"hljs-title function_ invoke__\">getBody</span>(), <span class=\"hljs-literal\">true</span>);\n</code></pre>\n<blockquote>\n<p>На этом этапе Вы можете проверить параметр <em>state</em>, для подтверждения безопасного взаимодействия с сервисом авторизации</p>\n</blockquote>\n<hr>\n<blockquote>\n<p>Описание параметров</p>\n</blockquote>\n<table class=\"table\">\n<tr>\n<th>Название параметра</th>\n<th align=\"center\">Тип данных</th>\n<th>Описание</th>\n</tr>\n<tr>\n<td>grant_type</td>\n<td align=\"center\">STRING</td>\n<td>Сценарий авторизации, указать &quot;authorization_code&quot;</td>\n</tr>\n<tr>\n<td>client_id</td>\n<td align=\"center\">STRING</td>\n<td>Client ID, который был получен при регистрации приложения</td>\n</tr>\n<tr>\n<td>client_secret</td>\n<td align=\"center\">STRING</td>\n<td>Сlient_secret, который был получен при регистрации приложения</td>\n</tr>\n<tr>\n<td>redirect_uri</td>\n<td align=\"center\">STRING</td>\n<td>Адрес на который будет перенаправлен клиент, после успешной авторизации, должен совпадать с Redirect URL при добавлении приложения</td>\n</tr>\n<tr>\n<td>code</td>\n<td align=\"center\">STRING</td>\n<td>Код авторизации, который был получен на предыдущем этапе</td>\n</tr>\n</table>\n<blockquote>\n<p>Так как client_secret -  это приватный ключ, поэтому не рекомендуется его хранить в фронтенде клиента. Для более безопасного сценария необходимо хранить его в бэкэнде Вашего приложения. Для реализации сценария с авторизационным кодо нужно передать полученный код фронтендем в бэкэнд Вашего сервиса, а уже он должен обратится в авторизационный сервис для получения токена.</p>\n</blockquote>\n<ol start=\"4\">\n<li>В результате успешного выполнения запроса к <a href=\"https://onlinesim.ru/oauth/token\">https://onlinesim.ru/oauth/token</a>, в ответ получите JSON, содержащий поля<em>access_token</em>, <em>refresh_token</em> и <em>expires_in</em>. Поле <em>expires_in</em> определяет количество секунд до истечения срока действия токена доступа.</li>\n</ol>\n<hr>\n<h4 id=\"авторизация-запросов-к-api-onlimesim-и-обновление-токена\"><strong>Авторизация запросов к API OnlimeSIM и обновление токена:</strong></h4>\n<p> Во все запросы к API нужно добавлять заголовок <strong>Authorization: Bearer <em>access_token</em></strong>.\n Если в ответ на ваш запрос пришел <code>ERROR_WRONG_KEY</code>, Вам необходимо обновить токен или получить новый.</p>\n<pre><code class=\"hljs language-json\"><span class=\"hljs-punctuation\">{</span>\n  <span class=\"hljs-attr\">&quot;response&quot;</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">&quot;ERROR_WRONG_KEY&quot;</span>\n<span class=\"hljs-punctuation\">}</span>\n</code></pre>\n<p> Для обновления токена необходимо сделать POST запрос к <a href=\"https://onlinesim.ru/oauth/token\">https://onlinesim.ru/oauth/token</a>:</p>\n<pre><code class=\"hljs language-php\"><span class=\"hljs-variable\">$http</span> = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">GuzzleHttp\\Client</span>([\n            <span class=\"hljs-string\">&#x27;verify&#x27;</span> =&gt; <span class=\"hljs-literal\">false</span>\n]);\n<span class=\"hljs-variable\">$response</span> = <span class=\"hljs-variable\">$http</span>-&gt;<span class=\"hljs-title function_ invoke__\">post</span>(<span class=\"hljs-string\">&#x27;https://onlinesim.ru/oauth/token&#x27;</span>, [\n      <span class=\"hljs-string\">&#x27;form_params&#x27;</span> =&gt; [\n            <span class=\"hljs-string\">&#x27;grant_type&#x27;</span> =&gt; <span class=\"hljs-string\">&#x27;refresh_token&#x27;</span>,\n            <span class=\"hljs-string\">&#x27;client_id&#x27;</span> =&gt; <span class=\"hljs-variable\">$client_id</span>,\n            <span class=\"hljs-string\">&#x27;client_secret&#x27;</span> =&gt; <span class=\"hljs-variable\">$client_secret</span>,\n            <span class=\"hljs-string\">&#x27;refresh_token&#x27;</span> =&gt; <span class=\"hljs-variable\">$refresh_token</span>,\n            <span class=\"hljs-string\">&#x27;scope&#x27;</span> =&gt; <span class=\"hljs-string\">&#x27;&#x27;</span>,\n      ;],\n]);\n<span class=\"hljs-keyword\">return</span> <span class=\"hljs-title function_ invoke__\">json_decode</span>((<span class=\"hljs-keyword\">string</span>) <span class=\"hljs-variable\">$response</span>-&gt;<span class=\"hljs-title function_ invoke__\">getBody</span>(), <span class=\"hljs-literal\">true</span>);\n</code></pre>\n<blockquote>\n<p>Описание параметров</p>\n</blockquote>\n<table class=\"table\">\n<tr>\n<th>Название параметра</th>\n<th align=\"center\">Тип данных</th>\n<th>Описание</th>\n</tr>\n<tr>\n<td>grant_type</td>\n<td align=\"center\">STRING</td>\n<td>Необходимо указать &quot;refresh_token&quot;</td>\n</tr>\n<tr>\n<td>client_id</td>\n<td align=\"center\">STRING</td>\n<td>Client ID, который был получен при регистрации приложения</td>\n</tr>\n<tr>\n<td>client_secret</td>\n<td align=\"center\">STRING</td>\n<td>Client_secret, который был получен при регистрации приложения</td>\n</tr>\n<tr>\n<td>refresh_token</td>\n<td align=\"center\">STRING</td>\n<td>Refresh_token был получен вместе с access_token. Имеет гораздо большее время жизни и используется для обновления access_token</td>\n</tr>\n<tr>\n<td>code</td>\n<td align=\"center\">STRING</td>\n<td>Код, который Вы получили на предыдущем этапе</td>\n</tr>\n</table>\n<p> <a name=\"IMPLICIT\"></a></p>\n<h3 id=\"oauth-20-implicit-flow\">OAuth 2.0. Implicit flow</h3>\n<blockquote>\n<p>Данный сценарий похож на сценарий c получением авторизационного кода, за исключением того, что вместо кода в redirect_url сервис авторизации сразу отдает токен. Это удобно для приложений, которые не могут обеспечить приватность <em>client_secret</em> (десктопные приложения, мобильные приложения без серверной части и т.п.).</p>\n</blockquote>\n<h4 id=\"регистрация-приложения-в-нашем-сервисе-авторизации-1\"><strong>Регистрация приложения в нашем сервисе авторизации:</strong></h4>\n<ol>\n<li>Перейти на <a href=\"https://onlinesim.ru/oauth\" target=\"_block\">страницу oauth</a>, при необходимости авторизоваться.</li>\n<li>Создать новое приложение, для этого нужно нажать &quot;Create New Client&quot;.</li>\n<li>В открывшемся окне необходимо заполнить обязательные поля:<ul>\n<li>Name - название приложения или любое другое название, которое Вы будете ассоциировать со своим приложением;</li>\n<li>Redirect URL - после авторизации пользователя в нашем сервисе авторизации, на данный URL будет перенаправлен клиент и отправлен код авторизации. Например, <code>https://client.example.com/redirect</code>;</li>\n<li>Confidential - требуется ли для доступа секретный ключ.</li>\n</ul>\n</li>\n</ol>\n <div class=\"text-center\" style=\"text-align: center;\">\n <img src=\"/assets/oauth/step1_2.png\" style=\"width: 100%;\" alt=\"step 1_2\">\n </div>\n\n<ol start=\"4\">\n<li><p>Нажать &quot;Create&quot;.</p>\n <div class=\"text-center\" style=\"text-align: center;\">\n <img src=\"/assets/oauth/step1.png\" style=\"width: 100%;\" alt=\"step 1\">\n </div>\n</li>\n<li><p>Client ID нужно добавить в Ваше приложение. Оно понадобится для авторизации.</p>\n</li>\n</ol>\n<hr>\n<h4 id=\"авторизация-пользователя-и-получение-токена-1\"><strong>Авторизация пользователя и получение токена:</strong></h4>\n<ol>\n<li>Для авторизации пользователя нужно сделать GET запрос к <a href=\"https://onlinesim.ru/oauth/authorize\">https://onlinesim.ru/oauth/authorize</a> с параметрами <em>client_id</em>, <em>redirect_uri</em>, <em>response_type</em>, <em>scope</em>, <em>state</em>:</li>\n</ol>\n<pre><code class=\"hljs language-php\"><span class=\"hljs-title function_ invoke__\">session</span>()-&gt;<span class=\"hljs-title function_ invoke__\">put</span>(<span class=\"hljs-string\">&#x27;state&#x27;</span>, <span class=\"hljs-variable\">$state</span> = <span class=\"hljs-title class_\">Str</span>::<span class=\"hljs-title function_ invoke__\">random</span>(<span class=\"hljs-number\">40</span>));\n<span class=\"hljs-variable\">$query</span> = <span class=\"hljs-title function_ invoke__\">http_build_query</span>([\n            <span class=\"hljs-string\">&#x27;client_id&#x27;</span> =&gt; <span class=\"hljs-variable\">$client_id</span>,\n            <span class=\"hljs-string\">&#x27;redirect_uri&#x27;</span> =&gt; <span class=\"hljs-string\">&#x27;https://client.example.com/redirect&#x27;</span>,\n            <span class=\"hljs-string\">&#x27;response_type&#x27;</span> =&gt; <span class=\"hljs-string\">&#x27;token&#x27;</span>,\n            <span class=\"hljs-string\">&#x27;scope&#x27;</span> =&gt; <span class=\"hljs-string\">&#x27;sms-scope rent-scope&#x27;</span>,\n            <span class=\"hljs-string\">&#x27;state&#x27;</span> =&gt; <span class=\"hljs-variable\">$state</span>,\n]);\n<span class=\"hljs-keyword\">return</span> <span class=\"hljs-title function_ invoke__\">redirect</span>(<span class=\"hljs-string\">&quot;https://onlinesim.ru/oauth/authorize?&quot;</span>.<span class=\"hljs-variable\">$query</span>);\n</code></pre>\n<blockquote>\n<p>Описание параметров</p>\n</blockquote>\n<table class=\"table\">\n<tr>\n<th>Название параметра</th>\n<th align=\"center\">Тип данных</th>\n<th>Описание</th>\n</tr>\n<tr>\n<td>client_id</td>\n<td align=\"center\">STRING</td>\n<td>Client ID, который был получен при регистрации приложения</td>\n</tr>\n<tr>\n<td>redirect_uri</td>\n<td align=\"center\">STRING</td>\n<td>Адрес на который будет перенаправлен клиент, после успешной авторизации, должен совпадать с Redirect URL при добавлении приложения.</td>\n</tr>\n<tr>\n<td>response_type</td>\n<td align=\"center\">STRING</td>\n<td>Указать &quot;token&quot;</td>\n</tr>\n<tr>\n<td>scope</td>\n<td align=\"center\">STRING</td>\n<td>Права доступа, разрешение на которые запрашивает Ваше приложение у пользователя. Возможные варианты: sms-scope, rent-scope, proxy-scope, free-scope. Можно указать несколько значений</td>\n</tr>\n<tr>\n<td>state</td>\n<td align=\"center\">STRING</td>\n<td>Значение состоящее из случайного набора символов, которое сервис авторизации вернет при обратном вызове. Рекомендуется использовать для предотвращения подделки межсайтовых запросов</td>\n</tr>\n</table>\n<blockquote>\n<p>Scopes:</p>\n</blockquote>\n<ul>\n<li>sms-scope - доступ к API и управлению номерами на приеме onlineSIM;</li>\n<li>rent-scope - доступ к API и аренде новых сим-карт от лица пользователя onlineSIM;</li>\n<li>proxy-scope - доступ к API и управлению прокси пользователя onlineSIM;</li>\n<li>free-scope - доступ к API и управлению бесплатными номерами;</li>\n</ul>\n<ol start=\"2\">\n<li>После запроса к <a href=\"https://onlinesim.ru/oauth/authorize\">https://onlinesim.ru/oauth/authorize</a>, пользователь из Вашего приложения будет перенаправлен на страницу авторизации, где ему необходимо указать логин пароль и, в случае успеха, авторизовать Ваше приложение для работы с данными пользователя в сервисе OnlineSIM. Для этого ему необходимо будет нажать кнопку <em>Authorize</em>:</li>\n</ol>\n <div class=\"text-center\" style=\"text-align: center;\">\n     <img src=\"/assets/oauth/step2.png\" style=\"width: 100%;\" alt=\"step 2\">\n </div>\n\n<ol start=\"3\">\n<li>В случае успешной авторизации пользователь будет перенаправлен по адрес <em>redirect_uri</em> с параметром <em>access_token</em>. Это и есть необходимый токен для авторизации в API OnlineSIM.</li>\n</ol>\n<hr>\n<h4 id=\"авторизация-запросов-к-api-onlinesim\"><strong>Авторизация запросов к API onlineSIM:</strong></h4>\n<p> Во все запросы к API нужно добавлять заголовок <strong>Authorization: Bearer <em>access_token</em></strong>.\n Если в ответ на ваш запрос пришел <code>ERROR_WRONG_KEY</code>, Вам необходимо получить новый токен.</p>\n<pre><code class=\"hljs language-json\"><span class=\"hljs-punctuation\">{</span>\n  <span class=\"hljs-attr\">&quot;response&quot;</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">&quot;ERROR_WRONG_KEY&quot;</span>\n<span class=\"hljs-punctuation\">}</span>\n</code></pre>\n<h2 id=\"приложения\"><strong>Приложения</strong></h2>\n<h3 id=\"1-список-стран\"><strong>#1 Список стран</strong></h3>\n<p><a href=\"%22./countries%22\">См. здесь</a></p>\n<h3 id=\"2-список-сервисов\"><strong>#2 Список сервисов</strong></h3>\n<p><a href=\"%22./services%22\">См. здесь</a></p>\n<h3 id=\"3-список-операторов\"><strong>#3 Список операторов</strong></h3>\n<p><a href=\"%22./operators%22\">См. здесь</a></p>\n<h3 id=\"4-схема-процесса\"><strong>#4 Схема процесса</strong></h3>\n<p><img src=\"%22/docs/workflow_smshub.png%22\" alt=\"\\&quot;workflow\\&quot;\"></p>\n","description":"<h2 id=\"general-description\">General description</h2>\n<p>This API allows you to provide us with numbers for SMS activations and turn your SIM cards into profitable assets by forwarding SMS codes from different websites and apps.</p>\n<p>We currently have 2 versions of API with two different approaches:</p>\n<ul>\n<li>v1 is designed for requesting numbers with specific parameters from your server;</li>\n<li>v2 is designed to accept from your server a list of numbers that can be purchased by our clients for various services</li>\n</ul>\n<blockquote>\n<p><strong>We&#39;re chargning clients per operation, not per SMS. Funds are credited upon successful completion of operation</strong>\nOperations can lasts from 15 minutes (for single-service activations) to several month (for long term rental) during which clients can receive several SMS.\nPlease note, that by proceeding you comply with these terms.</p>\n</blockquote>\n<blockquote>\n<p><strong>Both APIs requires Onlinesim partner account!</strong>\nYou will need to register Onlinesim profile and contact partner support to get access to these APIs. Several methods of authentication are available\n(<a href=\"/openapi_docs/Reseller-API-UN/auth\">Authentication</a>), but we will use API key authentication in this documentation for the reasons of simplicity.</p>\n</blockquote>\n<h3 id=\"v1-api\">v1 API</h3>\n<p>Connection and configuration are specific for each individual partner, so you should contact our tech support to get the details of integration.\nAll interaction between our servers is happening as a series of POST and/or GET requests on agreed endpoints via HTTP. <img src=\"https://onlinesim.io/assets/schemes/Interaction%20scheme%20(EN)%20%5Binfo%5D.png\" alt=\"API v1\"></p>\n<blockquote>\n<p><strong>This API will also require to implement number exception functionality on your side!</strong></p>\n</blockquote>\n<h4 id=\"integration-checklist\">Integration checklist:</h4>\n<ol>\n<li>Create 3 methods and a webhook.\n<a href=\"/openapi_docs/Reseller-API-UN/post/getServices\">GET_SERVICES</a> requests from your server amount of available numbers by country and service\n<a href=\"/openapi_docs/Reseller-API-UN/post/getNumber\">GET_NUMBER</a> reserves a number for 15 minutes with specific parameters for SMS reception from a single service\n<a href=\"/openapi_docs/Reseller-API-UN/post/pushSms\">PUSH_SMS (webhook)</a> - once a reserved number receives a message, your server should forward it to us\n<a href=\"/openapi_docs/Reseller-API-UN/post/finishActivation\">FINISH_ACTIVATION</a> closes operation with specified parameters (depending on the result)</li>\n<li>Contact us via email or Telegram to create a partner profile, provide endpoint URL on your server and receive one from us.\nOur support specialists will also run a few tests to make sure everything is working as expected.</li>\n<li>If tests are successful, your numbers will become available for our clients in a few hours.</li>\n</ol>\n<h4 id=\"requirements-for-v1\">Requirements for v1:</h4>\n<ol>\n<li><em>Requests and responses come in JSON4 format</em></li>\n<li><em>Encode scheme: UTF-8</em></li>\n<li><em>Make sure that user-agent is included in request headers</em></li>\n<li><em>All requests / responses use gzip compression method</em></li>\n<li><em>All country and service names in the GET_SERVICES response must use values from the corresponding lists of <a href=\"%22./countries%22\">countries</a> и <a href=\"%22./services%22\">services</a></em></li>\n<li><em>Each number can be used for one operation simultaneously: your server can issue the same number for other service only after the previous operation is completed</em></li>\n<li><em>You need to implement number exception functionality: if requested, numbers with certain sequence of digits (mask) should not be issued</em></li>\n<li><em>Webhook <a href=\"%22/openapi_docs/Reseller-API-UN/post/pushSms%22\">PUSH_SMS</a>: your server have to forward to OnlineSIM server any SMS received by numbers with active operations as soon as they get them</em></li>\n<li><em>Filtering and spam checking can be done either on our side or yours. Please let us know which flow is preferable for your before the integration</em></li>\n</ol>\n<h3 id=\"v2-api\">v2 API</h3>\n<p>OnlineSim API allows you to integrate your device with our site. It will allow your numbers to be purchased for SMS activations by our clients.\nWe tried to make it as simple as possible, you only need to follow steps below:</p>\n<ol>\n<li>Create 2 methods:</li>\n</ol>\n<ul>\n<li><p><a href=\"/openapi_docs/Reseller-API-UN/post/api_resellers_sendNumbersOnline\">sendNumbersOnline</a> - sends a list of numbers that you want to provide us with,\nthis request should be sent every 5 minutes to update a list and to confirm that your server is online;</p>\n</li>\n<li><p><a href=\"/openapi_docs/Reseller-API-UN/post/api_resellers_addMessage\">addMessage</a> - forwards SMS from your server to ours.</p>\n<blockquote>\n<p>If you have a large quantity of numbers and sending <a href=\"/openapi_docs/Reseller-API-UN/post/api_resellers_sendNumbersOnline\">sendNumbersOnline</a> request every 5 minutes as\n  uptime confirmation is not suitable for you, you can use alternative option - <a href=\"/openapi_docs/Reseller-API-UN/post/api_resellers_checkWork\">checkWork</a> request.</p>\n</blockquote>\n</li>\n</ul>\n<ol start=\"2\">\n<li>Contact tech support to get <code>_SERVER_URL_</code>.</li>\n<li>Other requests are optional, you may never need it, but their description is available in the documentation.</li>\n<li>Requests have optional parameter <code>test</code> that can be used for testing purposes. It&#39;s value can be either <code>test1</code> or <code>test2</code>,\nwhile being assigned to <code>test1</code> value it will allow the request to be passed, however the data won&#39;t be saved by our server\n(the function will not be executed by this request), if the assigned value is <code>test2</code> it will print out your request&#39;s payload in response.</li>\n</ol>\n<p>When request <a href=\"/openapi_docs/Reseller-API-UN/post/api_resellers_sendNumbersOnline\">sendNumbersOnline</a> will be executed successfully, please contact partner support specialists,\nso they can test if your messages are forwarded correctly with <a href=\"/openapi_docs/Reseller-API-UN/post/api_resellers_addMessage\">addMessage</a> request. When we confirm that everything is working as intended,\nwe will add your numbers to the pool, and they will be available for purchase in a few hours.</p>\n<hr>\n<h1 id=\"authorization\">Authorization</h1>\n<hr>\n<ul>\n<li><a href=\"#about\">General Information</a></li>\n<li><a href=\"#APIKEY\">1. APIKEY</a></li>\n<li><a href=\"#OAUTH\">2. OAUTH 2.0</a></li>\n<li><a href=\"#AUTHCODE\">Authorization code</a></li>\n<li><a href=\"#IMPLICIT\">Implicit</a></li>\n</ul>\n<p><a name=\"about\"></a></p>\n<h2 id=\"general-information\">General Information</h2>\n<p>To make calls to OnlineSIM API, your application needs to authenticate requests. You can do with any of the following methods: <strong><a href=\"#APIKEY\">APIKEY</a></strong>, <strong><a href=\"#AUTHCODE\">OAUTH 2.0 (Authorization code flow)</a></strong> or <strong><a href=\"#IMPLICIT\">OAUTH 2.0 (Implicit flow)</a></strong>. You can select the most convenient one, but we recommend OAuth 2.0 due to security reasons.</p>\n<p><a name=\"API key\"></a></p>\n<h2 id=\"1-api-key\">1. API key</h2>\n<p>API key is a secret key for a simplified authorization in OnlineSIM API.</p>\n<hr>\n<h4 id=\"how-to-get-an-api-key\">How to get an API key:</h4>\n<ol>\n<li>Log in to <a href=\"https://onlinesim.ru/auth/login\">personal account</a>, go to the &#39;User Profile&#39; and click on &quot;API&quot; tab.</li>\n<li>Copy the key from the <code>API Key</code> field.</li>\n</ol>\n<hr>\n<h4 id=\"how-to-use-it\">How to use it:</h4>\n<ol>\n<li>All OnlineSIM API requests must contain an API key.</li>\n<li>API key can be specified as a query parameter<blockquote>\n<p>For example:\n<a href=\"https://onlinesim.ru/api/getNumbersStats.php?apikey=%7B%7Bapi_key%7D%7D\">https://onlinesim.ru/api/getNumbersStats.php?apikey={{api_key}}</a></p>\n</blockquote>\n</li>\n<li>API key can be also specified in the request header<blockquote>\n<p>For example (Postman request):</p>\n</blockquote>\n<pre><code> Authorization: Bearer {{key}}\n User-Agent: PostmanRuntime/7.29.2\n Accept: */\\*\n Cache-Control: no-cache\n Postman-Token: 948bc880-8d25-4298-994f-fe6e22ada339\n Host: onlinesim.ru\n Accept-Encoding: gzip, deflate, br\n Connection: keep-alive\n Cookie: xxxx\n</code></pre>\n</li>\n</ol>\n<p><strong>This’s a simplified authorization, please use Oauth 2.0 for better data security if possible.</strong></p>\n<p><a name=\"OAUTH\"></a></p>\n<h2 id=\"2-oauth-20\">2. OAUTH 2.0</h2>\n<p>The OAuth 2.0 authorization protocol provides several grant types. In our case Authorization Code and Implicit Scripts types are available. <img src=\"https://onlinesim.io/assets/schemes/OAuth%202.0%20scheme%20(EN)%20%5BAuthorization%5D.png\" alt=\"OAuth 2.0\">\n<a name=\"AUTHCODE\"></a></p>\n<h3 id=\"oauth-20-authorization-code-flow\">OAuth 2.0. Authorization code flow</h3>\n<blockquote>\n<p>This scenario is based on the authorization code, operating as an intermediate link between your app and the user of our service. Instead of a direct authorization request, your app will redirect the user to our authorization service to authorize your app for working with the user’s data.</p>\n</blockquote>\n<hr>\n<h4 id=\"register-the-app-in-our-authorization-service\"><strong>Register the app in our authorization service:</strong></h4>\n<ol>\n<li>Open <a href=\"https://onlinesim.ru/oauth\" target=\"_block\">OAuth page</a>, log in if necessary.</li>\n<li>Add your app by clicking &quot;Create New Client&quot;.</li>\n<li>In the next window, fill in the required fields:</li>\n</ol>\n<ul>\n<li><p>Name: <em>could be the app name or another name associated with your app</em>;</p>\n</li>\n<li><p>Redirect URL: <em>after user authorization on our server, the client will be redirected with authorization code to this URL. For example, <code>https://client.example.com/redirect</code></em>;</p>\n</li>\n<li><p>Confidential: <em>shows whether a secret key is required for access</em>.</p>\n<div class=\"text-center\" style=\"text-align: center;\">\n![step1_2.png](https://stoplight.io/api/v1/projects/cHJqOjExNTgyNA/images/kmrH6HAGQrU)\n</div></li>\n</ul>\n<ol start=\"4\">\n<li><p>Press &quot;Create&quot;.</p>\n <div class=\"text-center\" style=\"text-align: center;\">\n ![step1.png](https://stoplight.io/api/v1/projects/cHJqOjExNTgyNA/images/wJTxpF1LGz4)\n </div>\n</li>\n<li><p>Client ID and Secret will be used in your app for authorization.</p>\n</li>\n</ol>\n<hr>\n<h4 id=\"authorize-a-user-and-get-a-token\"><strong>Authorize a user and get a token:</strong></h4>\n<ol>\n<li>To authorize a user, make a GET request to the <a href=\"https://onlinesim.ru/oauth/authorize\">endpoint</a> with parameters <em>client_id</em>, <em>redirect_uri</em>, <em>response_type</em>, <em>scope</em>, <em>state</em>:</li>\n</ol>\n<pre><code class=\"hljs language-php\"><span class=\"hljs-title function_ invoke__\">session</span>()-&gt;<span class=\"hljs-title function_ invoke__\">put</span>(<span class=\"hljs-string\">&#x27;state&#x27;</span>, <span class=\"hljs-variable\">$state</span> = <span class=\"hljs-title class_\">Str</span>::<span class=\"hljs-title function_ invoke__\">random</span>(<span class=\"hljs-number\">40</span>));\n<span class=\"hljs-variable\">$query</span> = <span class=\"hljs-title function_ invoke__\">http_build_query</span>([\n            <span class=\"hljs-string\">&#x27;client_id&#x27;</span> =&gt; <span class=\"hljs-variable\">$client_id</span>,\n            <span class=\"hljs-string\">&#x27;redirect_uri&#x27;</span> =&gt; <span class=\"hljs-string\">&#x27;https://client.example.com/redirect&#x27;</span>,\n            <span class=\"hljs-string\">&#x27;response_type&#x27;</span> =&gt; <span class=\"hljs-string\">&#x27;code&#x27;</span>,\n            <span class=\"hljs-string\">&#x27;scope&#x27;</span> =&gt; <span class=\"hljs-string\">&#x27;sms-scope rent-scope&#x27;</span>,\n            <span class=\"hljs-string\">&#x27;state&#x27;</span> =&gt; <span class=\"hljs-variable\">$state</span>,\n]);\n<span class=\"hljs-keyword\">return</span> <span class=\"hljs-title function_ invoke__\">redirect</span>(<span class=\"hljs-string\">&quot;https://onlinesim.ru/oauth/authorize?&quot;</span>.<span class=\"hljs-variable\">$query</span>);\n</code></pre>\n<blockquote>\n<p>Description of parameters</p>\n</blockquote>\n<table class=\"table\">\n<tr>\n<th>Parameter Name</th>\n<th align=\"center\">Data Type</th>\n<th>Description</th>\n</tr>\n<tr>\n<td>client_id</td>\n<td align=\"center\">STRING</td>\n<td>client ID (returned when the app registration process is complete)</td>\n</tr>\n<tr>\n<td>redirect_uri</td>\n<td align=\"center\">STRING</td>\n<td>Redirect destination for the client after a successful authorization, it must match the Redirect URL parameter used during app registration process.</td>\n</tr>\n<tr>\n<td>response_type</td>\n<td align=\"center\">STRING</td>\n<td>Use &quot;code&quot; as a value</td>\n</tr>\n<tr>\n<td>scope</td>\n<td align=\"center\">STRING</td>\n<td>Access rights that your app asks from the user. Possible values: <em>sms-scope</em>, <em>rent-scope</em>, <em>proxy-scope</em>, <em>free-scope</em>. You can specify several of them</td>\n</tr>\n<tr>\n<td>state</td>\n<td align=\"center\">STRING</td>\n<td>A value consisting of a random character set, the authorization service will return when called back. It’s recommended to use to prevent forging cross-site requests</td>\n</tr>\n</table>\n<blockquote>\n<p>Scopes:</p>\n</blockquote>\n<ul>\n<li>sms-scope enables the access to the API and number management on OnlineSIM reception;</li>\n<li>rent-scope enables the access to the API and new SIM cards leasing on behalf of the OnlineSIM user;</li>\n<li>proxy-scope enables the access to the API and OnlineSIM user’s proxy management of the;</li>\n<li>free-scope enables the access to the API and managing free numbers;</li>\n</ul>\n<ol start=\"2\">\n<li><p>After the request to <a href=\"https://onlinesim.ru/oauth/authorize\">https://onlinesim.ru/oauth/authorize</a> is sent, the user from your app will be redirected to the authorization page to enter the login&amp;password and, if successful, authorize your app to work with user data in the OnlineSIM service. To do so, he has to press the <em>Authorize</em> button:</p>\n <div class=\"text-center\" style=\"text-align: center;\">\n ![step2.png](https://stoplight.io/api/v1/projects/cHJqOjExNTgyNA/images/4xbY12EUqXY)\n </div>\n</li>\n<li><p>If the authorization is successful, the user will be redirected to redirect_uri with the parameter <em>code</em>. Now you can get the access token after making a POST request to the <a href=\"https://onlinesim.ru/oauth/token\">endpoint</a>:</p>\n</li>\n</ol>\n<pre><code class=\"hljs language-php\"><span class=\"hljs-variable\">$state</span> = <span class=\"hljs-title function_ invoke__\">session</span>()-&gt;<span class=\"hljs-title function_ invoke__\">pull</span>(<span class=\"hljs-string\">&#x27;state&#x27;</span>);\n\n<span class=\"hljs-keyword\">if</span>(<span class=\"hljs-title function_ invoke__\">strlen</span>(<span class=\"hljs-variable\">$state</span>) &gt; <span class=\"hljs-number\">0</span> &amp;&amp; <span class=\"hljs-variable\">$state</span> !== <span class=\"hljs-variable\">$request</span>-&gt;<span class=\"hljs-title function_ invoke__\">get</span>(<span class=\"hljs-string\">&#x27;state&#x27;</span>)) {\n      <span class=\"hljs-keyword\">throw</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-built_in\">InvalidArgumentException</span>();\n}\n\n<span class=\"hljs-variable\">$http</span> = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">GuzzleHttp\\Client</span>([\n      <span class=\"hljs-string\">&#x27;verify&#x27;</span> =&gt; <span class=\"hljs-literal\">false</span>\n]);\n\n<span class=\"hljs-variable\">$response</span> = <span class=\"hljs-variable\">$http</span>-&gt;<span class=\"hljs-title function_ invoke__\">post</span>(<span class=\"hljs-string\">&#x27;https://onlinesim.ru/oauth/token&#x27;</span>, [\n      <span class=\"hljs-string\">&#x27;form_params&#x27;</span> =&gt; [\n            <span class=\"hljs-string\">&#x27;grant_type&#x27;</span> =&gt; <span class=\"hljs-string\">&#x27;authorization_code&#x27;</span>,\n            <span class=\"hljs-string\">&#x27;client_id&#x27;</span> =&gt; <span class=\"hljs-variable\">$client_id</span>,\n            <span class=\"hljs-string\">&#x27;client_secret&#x27;</span> =&gt; <span class=\"hljs-variable\">$client_secret</span>,\n            <span class=\"hljs-string\">&#x27;redirect_uri&#x27;</span> =&gt; <span class=\"hljs-string\">&#x27;https://client.example.com/redirect&#x27;</span>,\n            <span class=\"hljs-string\">&#x27;code&#x27;</span> =&gt; <span class=\"hljs-variable\">$request</span>-&gt;code,\n      ;]\n]);\n\n<span class=\"hljs-keyword\">return</span> <span class=\"hljs-title function_ invoke__\">json_decode</span>((<span class=\"hljs-keyword\">string</span>) <span class=\"hljs-variable\">$response</span>-&gt;<span class=\"hljs-title function_ invoke__\">getBody</span>(), <span class=\"hljs-literal\">true</span>);\n</code></pre>\n<blockquote>\n<p>At this point, you can check the <em>state</em> parameter, to confirm secure communication with the authorization service</p>\n</blockquote>\n<hr>\n<blockquote>\n<p>Parameter Description</p>\n</blockquote>\n<table class=\"table\">\n<tr>\n<th>Parameter name</th>\n<th align=\"center\">Data type</th>\n<th>Description</th>\n</tr>\n<tr>\n<td>grant_type</td>\n<td align=\"center\">STRING</td>\n<td>Grant type, use &quot;authorization_code&quot; as a value</td>\n</tr>\n<tr>\n<td>client_id</td>\n<td align=\"center\">STRING</td>\n<td>Client ID (returned when the app registration process is complete)</td>\n</tr>\n<tr>\n<td>client_secret</td>\n<td align=\"center\">STRING</td>\n<td>client_secret (returned when the app registration process is complete)</td>\n</tr>\n<tr>\n<td>redirect_uri</td>\n<td align=\"center\">STRING</td>\n<td>Redirect destination for the client after a successful authorization, it must match the Redirect URL parameter used during app registration process.</td>\n</tr>\n<tr>\n<td>code</td>\n<td align=\"center\">STRING</td>\n<td>Authorization code, obtained in the previous step</td>\n</tr>\n</table>\n<blockquote>\n<p>Since client_secret is a private key, it is not recommended to store it in the frontend of the client. For a more secure scenario, you should store it in the backend of your app. To implement the Authorization Code scenario, you need to pass this code from the frontend to the backend of your service.</p>\n</blockquote>\n<ol start=\"4\">\n<li>As a result of a successful request to <a href=\"https://onlinesim.ru/oauth/token\">https://onlinesim.ru/oauth/token</a>, you get JSON in reply, which contains <em>access_token</em>, <em>refresh_token</em>, and <em>expires_in</em> attributes. The <em>expires_in</em> attribute contains the number of seconds before the access token is expired.</li>\n</ol>\n<hr>\n<h4 id=\"authorization-and-token-refreshment\"><strong>Authorization and token refreshment:</strong></h4>\n<p>  For all API requests, add the <strong>Authorization: Bearer <em>access_token</em></strong> header.\n  If your request results in <code>ERROR_WRONG_KEY</code>, you need to update your token or get a new one.</p>\n<pre><code class=\"hljs language-json\"><span class=\"hljs-punctuation\">{</span>\n  <span class=\"hljs-attr\">&quot;response&quot;</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">&quot;ERROR_WRONG_KEY&quot;</span>\n<span class=\"hljs-punctuation\">}</span>\n</code></pre>\n<p>  To update the token you must make a POST request to <a href=\"https://onlinesim.ru/oauth/token\">https://onlinesim.ru/oauth/token</a>:</p>\n<pre><code class=\"hljs language-php\"><span class=\"hljs-variable\">$http</span> = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">GuzzleHttp\\Client</span>([\n            <span class=\"hljs-string\">&#x27;verify&#x27;</span> =&gt; <span class=\"hljs-literal\">false</span>\n]);\n<span class=\"hljs-variable\">$response</span> = <span class=\"hljs-variable\">$http</span>-&gt;<span class=\"hljs-title function_ invoke__\">post</span>(<span class=\"hljs-string\">&#x27;https://onlinesim.ru/oauth/token&#x27;</span>, [\n      <span class=\"hljs-string\">&#x27;form_params&#x27;</span> =&gt; [\n            <span class=\"hljs-string\">&#x27;grant_type&#x27;</span> =&gt; <span class=\"hljs-string\">&#x27;refresh_token&#x27;</span>,\n            <span class=\"hljs-string\">&#x27;client_id&#x27;</span> =&gt; <span class=\"hljs-variable\">$client_id</span>,\n            <span class=\"hljs-string\">&#x27;client_secret&#x27;</span> =&gt; <span class=\"hljs-variable\">$client_secret</span>,\n            <span class=\"hljs-string\">&#x27;refresh_token&#x27;</span> =&gt; <span class=\"hljs-variable\">$refresh_token</span>,\n            <span class=\"hljs-string\">&#x27;scope&#x27;</span> =&gt; <span class=\"hljs-string\">&#x27;&#x27;</span>,\n      ;],\n]);\n<span class=\"hljs-keyword\">return</span> <span class=\"hljs-title function_ invoke__\">json_decode</span>((<span class=\"hljs-keyword\">string</span>) <span class=\"hljs-variable\">$response</span>-&gt;<span class=\"hljs-title function_ invoke__\">getBody</span>(), <span class=\"hljs-literal\">true</span>);\n</code></pre>\n<blockquote>\n<p>Parameter Description</p>\n</blockquote>\n<table class=\"table\">\n<tr>\n<th>Parameter name</th>\n<th align=\"center\">Data type</th>\n<th>Description</th>\n</tr>\n<tr>\n<td>grant_type</td>\n<td align=\"center\">STRING</td>\n<td>Grant type, use &quot;refresh_token&quot; as a value</td>\n</tr>\n<tr>\n<td>client_id</td>\n<td align=\"center\">STRING</td>\n<td>Client ID (returned when the app registration process is complete)</td>\n</tr>\n<tr>\n<td>client_secret</td>\n<td align=\"center\">STRING</td>\n<td>client_secret (returned when the app registration process is complete)</td>\n</tr>\n<tr>\n<td>refresh_token</td>\n<td align=\"center\">STRING</td>\n<td>Refresh_token is obtained along with the access_token. It has a much longer lifetime and is used to refresh access_token</td>\n</tr>\n<tr>\n<td>code</td>\n<td align=\"center\">STRING</td>\n<td>Authorization code, obtained in the previous step</td>\n</tr>\n</table>\n<p>  <a name=\"IMPLICIT\"></a></p>\n<h3 id=\"oauth-20-implicit-flow\">OAuth 2.0. Implicit flow</h3>\n<blockquote>\n<p>This scenario is similar to the one for getting the authorization code, except that instead of the code in redirect_uri, the authorization service immediately gives the token. This is useful for apps that cannot ensure client_secret privacy (desktop apps, mobile apps without a server part, etc.).</p>\n</blockquote>\n<h4 id=\"register-the-app-in-our-authorization-service-1\"><strong>Register the app in our authorization service:</strong></h4>\n<ol>\n<li><p>Go to the <a href=\"https://onlinesim.ru/oauth\" target=\"_block\">oauth page</a>, log in if necessary.</p>\n</li>\n<li><p>Create a new app by clicking &quot;Create New Client&quot;.</p>\n</li>\n<li><p>In the window that opens, you must fill in the required fields:</p>\n<ul>\n<li>Name: <em>could be the app name or any other name you will associate with your app</em>;</li>\n<li>Redirect URL: <em>after user authorization in our authorization service, the client will be redirected to this URL, and the authorization code will be sent. For example, <code>https://client.example.com/redirect</code></em>;</li>\n<li>Confidential: *shows whether a secret key is required for access.</li>\n</ul>\n <div class=\"text-center\" style=\"text-align: center;\">\n <img src=\"/assets/oauth/step1_2.png\" style=\"width: 100%;\" alt=\"step 1_2\">\n </div>\n</li>\n<li><p>Press &quot;Create&quot;.</p>\n <div class=\"text-center\" style=\"text-align: center;\">\n <img src=\"/assets/oauth/step1.png\" style=\"width: 100%;\" alt=\"step 1\">\n </div>\n</li>\n<li><p>Client ID will be used in your app for authorization.</p>\n</li>\n</ol>\n<hr>\n<h4 id=\"authorize-a-user-and-get-a-token-1\"><strong>Authorize a user and get a token:</strong></h4>\n<ol>\n<li>To authorize a user, make a GET request to the endpoint <a href=\"https://onlinesim.ru/oauth/authorize\">https://onlinesim.ru/oauth/authorize</a> with parameters <em>client_id</em>, <em>redirect_uri</em>, <em>response_type</em>, <em>scope</em>, <em>state</em>:</li>\n</ol>\n<pre><code class=\"hljs language-php\"><span class=\"hljs-title function_ invoke__\">session</span>()-&gt;<span class=\"hljs-title function_ invoke__\">put</span>(<span class=\"hljs-string\">&#x27;state&#x27;</span>, <span class=\"hljs-variable\">$state</span> = <span class=\"hljs-title class_\">Str</span>::<span class=\"hljs-title function_ invoke__\">random</span>(<span class=\"hljs-number\">40</span>));\n<span class=\"hljs-variable\">$query</span> = <span class=\"hljs-title function_ invoke__\">http_build_query</span>([\n            <span class=\"hljs-string\">&#x27;client_id&#x27;</span> =&gt; <span class=\"hljs-variable\">$client_id</span>,\n            <span class=\"hljs-string\">&#x27;redirect_uri&#x27;</span> =&gt; <span class=\"hljs-string\">&#x27;https://client.example.com/redirect&#x27;</span>,\n            <span class=\"hljs-string\">&#x27;response_type&#x27;</span> =&gt; <span class=\"hljs-string\">&#x27;token&#x27;</span>,\n            <span class=\"hljs-string\">&#x27;scope&#x27;</span> =&gt; <span class=\"hljs-string\">&#x27;sms-scope rent-scope&#x27;</span>,\n            <span class=\"hljs-string\">&#x27;state&#x27;</span> =&gt; <span class=\"hljs-variable\">$state</span>,\n]);\n<span class=\"hljs-keyword\">return</span> <span class=\"hljs-title function_ invoke__\">redirect</span>(<span class=\"hljs-string\">&quot;https://onlinesim.ru/oauth/authorize?&quot;</span>.<span class=\"hljs-variable\">$query</span>);\n</code></pre>\n<blockquote>\n<p>Description of parameters</p>\n</blockquote>\n<table class=\"table\">\n<tr>\n<th>Parameter name</th>\n<th align=\"center\">Data type</th>\n<th>Description</th>\n</tr>\n<tr>\n<td>client_id</td>\n<td align=\"center\">STRING</td>\n<td>Client ID (returned when the app registration process is complete)</td>\n</tr>\n<tr>\n<td>redirect_uri</td>\n<td align=\"center\">STRING</td>\n<td>Redirect destination for the client after a successful authorization, it must match the Redirect URL parameter used during app registration process.</td>\n</tr>\n<tr>\n<td>response_type</td>\n<td align=\"center\">STRING</td>\n<td>Use &quot;token&quot; as a value</td>\n</tr>\n<tr>\n<td>scope</td>\n<td align=\"center\">STRING</td>\n<td>Access rights that your app asks from the user. Possible values: <em>sms-scope</em>, <em>rent-scope</em>, <em>proxy-scope</em>, <em>free-scope</em>. You can specify several of them</td>\n</tr>\n<tr>\n<td>state</td>\n<td align=\"center\">STRING</td>\n<td>A value consisting of a random character set, the authorization service will return when called back. It’s recommended to use to prevent forging cross-site requests</td>\n</tr>\n</table>\n<blockquote>\n<p>Scopes:</p>\n</blockquote>\n<ul>\n<li>sms-scope enables the access to the API and number management on OnlineSIM reception;</li>\n<li>rent-scope enables the access to the API and new SIM cards leasing on behalf of the OnlineSIM user;</li>\n<li>proxy-scope enables the access to the API and proxy management of the OnlineSIM user;</li>\n<li>free-scope enables the access to the API and management of free numbers;</li>\n</ul>\n<ol start=\"2\">\n<li><p>After the request to <a href=\"https://onlinesim.ru/oauth/authorize\">https://onlinesim.ru/oauth/authorize</a> is sent, the user will be redirected from your app to the authorization page to enter the login &amp; password and, if successful, authorize your app to work with user data in the OnlineSIM service. To do so, he has to press the <em>Authorize</em> button:</p>\n <div class=\"text-center\" style=\"text-align: center;\">\n     <img src=\"/assets/oauth/step2.png\" style=\"width: 100%;\" alt=\"step 2\">\n </div>\n</li>\n<li><p>In case of successful authorization, the user will be redirected to the <em>redirect_uri</em> address with the parameter <em>access_token</em>. This token is required for authorization in OnlineSIM API.</p>\n</li>\n</ol>\n<hr>\n<h4 id=\"authorization-of-requests-to-the-onlinesim-api\"><strong>Authorization of requests to the OnlineSIM API:</strong></h4>\n<p>  Add the Authorization to all API requests: Bearer <em>access_token</em> header.\n  If your request results in <code>ERROR_WRONG_KEY</code>, you should get a new token.</p>\n<pre><code class=\"hljs language-json\"><span class=\"hljs-punctuation\">{</span>\n  <span class=\"hljs-attr\">&quot;response&quot;</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">&quot;ERROR_WRONG_KEY&quot;</span>\n<span class=\"hljs-punctuation\">}</span>\n</code></pre>\n<h2 id=\"attachments\"><strong>Attachments</strong></h2>\n<h3 id=\"1-countries-list\"><strong>#1 Countries list</strong></h3>\n<p><a href=\"/openapi_docs/Reseller-API-UN/custom/countries\">See here</a></p>\n<h3 id=\"2-services-list\"><strong>#2 Services list</strong></h3>\n<p><a href=\"/openapi_docs/Reseller-API-UN/custom/services\">See here</a></p>\n<h3 id=\"3-operators-list\"><strong>#3 Operators list</strong></h3>\n<p><a href=\"/openapi_docs/Reseller-API-UN/custom/operators\">See here</a></p>\n<h3 id=\"4-workflow\"><strong>#4 Workflow</strong></h3>\n<p><img src=\"/docs/workflow_smshub.png\" alt=\"workflow\"></p>\n","contact":{"name":"Egor Stabilov","email":"partners@onlinesim.ru","url":"https://onlinesim.ru"},"termsOfService":"https://onlinesim.ru/documentation/offer","license":{"name":"GNU General Public License, version 3.0","url":"https://www.gnu.org/licenses/gpl-3.0.en.html"}},"servers":[{"url":"{yourserver}","x-description-ru":"URL Вашего сервера","description":"Your server URL","variables":{"yourserver":{"default":"https://www.example.net"}}},{"url":"{testServer}","x-description-ru":"URL сервера для получения списка стран и сервисов","description":"Server URL to getting service and country list","variables":{"testServer":{"default":"https://onlinesim.io/api/v1/info/"}}}],"paths":{"/getServices":{"parameters":[],"post":{"summary":"GET_SERVICES","operationId":"GET_SERVICES","responses":{"200":{"x-description-ru":"Ответ Вашего сервера на запрос `GET_SERVICES` должен быть в следующем формате:","description":"The response of your server for `GET_SERVICES` request must be in following format:","content":{"application/json":{"schema":{"type":"object","properties":{"countryList":{"type":"array","items":{"type":"object","properties":{"#countryname#":{"type":"string","x-description-ru":"Название страны","description":"Country name"},"operatorMap":{"type":"object","properties":{"any":{"type":"object","x-description-ru":"Количество номеров оператора `any` должно быть равно сумме доступных номеров всех других операторов этой страны по данному сервису","description":"Operator `any` should summarize the total amount available numbers for this country","properties":{"#service_name#":{"type":"integer","x-description-ru":"Название сервиса и суммарное количество доступных номеров (все операторы, общее количество)","description":"Service name and total amount of available numbers for this service (all operators, summarized)"}}},"#operator_name#":{"type":"object","properties":{"#service_name#":{"type":"integer","x-description-ru":"Название сервиса и соответствующее количество доступных номеров","description":"Service name and corresponding amount of available numbers for this service"}}}}}}}},"status":{"type":"string","x-description-ru":"Статус выполнения запроса (`SUCCESS` or `ERROR`)","description":"Request status (`SUCCESS` or `ERROR`)","enum":["SUCCESS","ERROR"],"example":"SUCCESS"}}},"examples":{"Response example from your server":{"value":{"countryList":[{"country":"russia","operatorMap":{"any":{"vk":10,"ok":25,"wa":52},"beeline":{"vk":10,"ok":15,"wa":20},"megafon":{"vk":0,"ok":10,"wa":32}}},{"country":"ukraine","operatorMap":{"any":{"vk":10,"ok":50,"wa":132},"life":{"vk":0,"ok":10,"wa":32},"vodafone":{"vk":10,"ok":10,"wa":0},"kyivstar":{"vk":0,"ok":30,"wa":100}}}],"status":"SUCCESS"}}}}},"headers":{"Content-Type":{"schema":{"type":"string","default":"application/json; charset=utf-8","enum":["application/json; charset=utf-8"],"example":"application/json; charset=utf-8"},"x-description-ru":"Заголовок `Content type` и кодировка","description":"`Content type` header and encoding scheme"}}}},"x-description-ru":"<p>Этот запрос отправляется <strong>от сервера Onlinesim на Ваш сервер</strong> каждые 2 минуты для получения актуального списка доступных номеров. Ваш сервер должен вернуть список номеров в формате, описанном ниже.</p>\n<p>Для аутентификации будет использован Ваш API ключ партнера, который будет передан в теле запроса.</p>\n<blockquote>\n<p><strong>ВАЖНО!</strong>\nНеобходимо, чтобы Ваш сервер возвращал актуальное количество одновременно доступных номеров. Например, если у Вас есть SIM банк на 512 портов и только 64 GSM-модуля в оборудовании,\nВам необходимо вернуть 64 номера, а не 512. Нарушение этого условия повлечет автоматическую блокировку системой выдачу Ваших номеров на 30 минут.</p>\n</blockquote>\n<blockquote>\n<p><strong>ВАЖНО!</strong>\n<code>operatorMap</code> должен содержать оператора <code>any</code>, количество номеров которого является суммой номеров всех доступных операторов по каждому сервису.</p>\n</blockquote>\n<p>Каждая успешная операция должна уменьшать счетчик количества доступных для этого сервиса номеров на 1. Если операция была отменена или неудачна (SMS не пришло), счетчик остается без изменений.\nРезультат операции зависит от значения параметра <code>status</code>, переданного в запросе <a href=\"/ru/openapi_docs/Reseller-API-UN/post/finishActivation\">FINISH_ACTIVATION</a>.</p>\n","description":"<p>This request is sent <strong>from Onlinesim server to yours</strong> every 2 minutes to get a list of available numbers. Your server should return a relevant list of available numbers in format described below.</p>\n<p>Your partner&#39;s API key will be passed in the request in a payload.</p>\n<blockquote>\n<p><strong>IMPORTANT NOTE!</strong>\nIt is necessary to return actual number of simultaneously available numbers. For example, if you have SIM bank with 512 ports and only 64 GSM-modules, then you should return 64, not 512.\nViolation of this condition cause the system to automatically block receiving numbers from you for 30 minutes.</p>\n</blockquote>\n<blockquote>\n<p><strong>IMPORTANT NOTE!</strong>\n<code>operatorMap</code> should contain operator <code>any</code> that includes summarized amount of numbers of all operators for each service</p>\n</blockquote>\n<p>Each successful operation has to reduce count of available numbers for this service by 1. If operation was cancelled or failed (SMS hasn&#39;t been received), the counter has to remain unchanged.\nOperation result is passed as <code>status</code> parameter in <a href=\"/openapi_docs/Reseller-API-UN/post/finishActivation\">FINISH_ACTIVATION</a> request.</p>\n","parameters":["#/components/parameters/Authorization"],"requestBody":{"content":{"application/json":{"schema":{"type":"object","x-examples":{"example-1":{"action":"GET_SERVICES","key":"apiKey"}},"properties":{"action":{"type":"string","x-description-ru":"Имя метода, в данном случае `GET_SERVICES`","description":"Method name, in this case `GET_SERVICES`","example":"GET_SERVICES","default":"GET_SERVICES","enum":["GET_SERVICES"]},"key":{"type":"string","x-description-ru":"API ключ Вашего профиля партнера Onlinesim","description":"API key of your Onlinesim partner&#x27;s profile"}},"required":["action","key"]},"examples":{"Example payload of Onlinesim server GET_SERVICES request":{"value":{"action":"GET_SERVICES","key":"apiKey"}}}}},"x-description-ru":"Тело запроса от сервера Onlinesim","description":"Request payload from Onlinesim server"},"tags":["v1"]}},"/getNumber":{"post":{"summary":"GET_NUMBER","operationId":"GET_NUMBER","responses":{"200":{"x-description-ru":"<p>Ответ Вашего сервера на запрос <a href=\"%22/ru/openapi_docs/Reseller-API-UN/post/getNumber%22\">GET_NUMBER</a> должен быть в следующем формате:</p>\n","description":"<p>The response of your server for <a href=\"%22/ru/openapi_docs/Reseller-API-UN/post/getNumber%22\">GET_NUMBER</a> request must be in following format:</p>\n","headers":{"Content-Type":{"schema":{"type":"string","default":"application/json; charset=utf-8","enum":["application/json; charset=utf-8"],"example":"application/json; charset=utf-8"},"x-description-ru":"Заголовок `Content type` и кодировка","description":"`Content type` header and encoding scheme"}},"content":{"application/json":{"schema":{"type":"object","x-examples":{"example-1":{"number":79281234567,"activationId":355,"status":"SUCCESS"}},"properties":{"number":{"type":"integer","x-description-ru":"Номер телефона в международном формате, согласно указанным в запросе параметрам","description":"Phone number in international format according to the requested parameters","example":79088081050},"activationId":{"type":"integer","x-description-ru":"ID операции (присваивается Вашим сервером)","description":"Operation ID (assigned by your server)","example":355,"minimum":1},"status":{"type":"string","x-description-ru":"Статус выполнения запроса (`SUCCESS` or `ERROR`)","description":"Request status (`SUCCESS` or `ERROR`)","enum":["SUCCESS","ERROR"],"example":"SUCCESS"}}},"examples":{"Response example from your server":{"value":{"number":79281234567,"activationId":355,"status":"SUCCESS"}}}}}}},"tags":["v1"],"x-description-ru":"<p>Запрос для заказа номер для приема SMS от указанного сервиса.</p>\n<p>Данный запрос отправляется на Ваш сервер для заказа номера на 15 минут с указанными параметрами для получения SMS от одного сервиса.\nОперация может быть закрыта досрочно (смотри <a href=\"/ru/openapi_docs/Reseller-API-UN/post/finishActivation\">FINISH_ACTIVATION</a>).</p>\n<blockquote>\n<p><strong>ВАЖНО!</strong>\nКак упоминалось в описании, Вам необходимо будет реализовать функционал по исключению масок номеров. Опциональный параметр &quot;exceptionPhoneSet&quot; может содержать массив с набором масок для исключений.\nПри их наличии (когда параметр передается), Ваш сервер должен исключить из выдачи номера с масками, совпадающими в этом наборе.</p>\n<p>Например, при переданном значении [46950] не должны выдаваться номера Швеции, начинающиеся с +46950*\n<img src=\"https://onlinesim.io/assets/schemes/Mask%20exception%20scheme%20(RU)%20%5BGET_NUMBER%5D.png\" alt=\"Exception\"></p>\n</blockquote>\n<blockquote>\n<p><strong>ВАЖНО!</strong>\nНомера используемые в одной операции не могут быть использованы в другой до тех пор, пока предыдущая операция не будет завершена (пока не получен запрос <a href=\"/ru/openapi_docs/Reseller-API-UN/post/finishActivation\">FINISH_ACTIVATION</a>).\n<img src=\"https://onlinesim.io/assets/schemes/Number%20pool%20(RU)%20%5BGET_NUMBER%5D.png\" alt=\"Queue\"></p>\n</blockquote>\n","description":"<p>Request for ordering a number for SMS reception from a specified service.</p>\n<p>This request is sent to your server to order a number with specific parameters to receive SMS from a single service for 15 minutes.\nThe operation can be closed prematurely (check <a href=\"/openapi_docs/Reseller-API-UN/post/finishActivation\">FINISH_ACTIVATION</a>).</p>\n<blockquote>\n<p><strong>IMPORTANT!</strong>\nAs we mentioned before, you will have to implement a fucntionality for number&#39;s mask exception: optional parameter &quot;exceptionPhoneSet&quot; can contain an array with exception set.\nWhen one does, your server should exclude numbers with matching patters from issuing them.</p>\n<p>For example, if [46950] value is passed, your server should not issue numbers of Sweden that starts with +46950*\n<img src=\"https://onlinesim.io/assets/schemes/Mask%20exception%20scheme%20(EN)%20%5BGET_NUMBER%5D.png\" alt=\"Exception\"></p>\n</blockquote>\n<blockquote>\n<p><strong>IMPORTANT!</strong>\nNumbers that are used in one operation cannot be used in other until the previous operation is closed (until [FINISH_ACTIVATION] request is received(/openapi_docs/Reseller-API-UN/post/finishActivation)).\n<img src=\"https://onlinesim.io/assets/schemes/Number%20pool%20(EN)%20%5BGET_NUMBER%5D.png\" alt=\"Queue\"></p>\n</blockquote>\n","requestBody":{"content":{"application/json":{"schema":{"type":"object","x-examples":{"example-1":{"action":"GET_NUMBER","country":"russia","operator":"any","service":"vk","sum":40,"key":"test"}},"properties":{"action":{"type":"string","x-description-ru":"Имя метода, в данном случае `GET_NUMBER`","description":"Method name, in this case `GET_NUMBER`","default":"GET_NUMBER","example":"GET_NUMBER","enum":["GET_NUMBER"]},"country":{"type":"string","x-description-ru":"<p>Название страны, enum (смотри <a href=\"#countries\">список стран</a>)</p>\n","description":"<p>Country name, enum (<a href=\"#countries\">country list</a>)</p>\n","example":"germany"},"operator":{"type":"string","x-description-ru":"<p>Название оператора, enum (смотри <a href=\"#operators\">список операторов</a>)</p>\n","description":"<p>Operator name, enum (<a href=\"#operators\">operator list</a>)</p>\n","example":"any"},"service":{"type":"string","x-description-ru":"<p>Название сервиса, enum (смотри <a href=\"#services\">список сервисов</a>)</p>\n","description":"<p>Service name, enum <a href=\"#services\">service list</a></p>\n","example":"facebook"},"sum":{"type":"number","example":40,"x-description-ru":"Цена сервиса, в рублях (эта сумма будет начислена на Ваш аккаунт партнера Onlinesim при успешном завершении операции)","description":"Service price, in RUB (this sum will be credited to your Onlinesim account after successful operation)"},"key":{"type":"string","x-description-ru":"API ключ Вашего профиля партнера Onlinesim","description":"API key of your Onlinesim partners profile"},"exceptionPhoneSet":{"type":"array","x-description-ru":"<p>Список префиксов-исключений для масок номеров, которые <strong>НЕ</strong> должны выдаваться при запросе номера. Формат: код страны + следующие за ним цифры номера.</p>\n","description":"<p>List of exception prefixes that <strong>SHOULD NOT</strong> be issued when the number is requested. Format: country code + following digits of a number.</p>\n","items":{"type":"integer","example":46950}}},"required":["action","country","operator","service","sum","key"]},"examples":{"Example payload of Onlinesim server GET_NUMBER request":{"value":{"action":"GET_NUMBER","country":"russia","operator":"any","service":"vk","sum":40,"key":"apiKey"}}}}},"x-description-ru":"Тело запроса от сервера Onlinesim","description":"Request payload from Onlinesim server"},"parameters":["#/components/parameters/Authorization","#/components/parameters/Content-Type"]}},"/pushSms":{"post":{"servers":[{"url":"https://www.ourserver.com"}],"summary":"PUSH_SMS","operationId":"PUSH_SMS","responses":{"200":{"x-description-ru":"Ответ сервера Onlinesim","description":"Onlinesim server response","content":{"application/json":{"schema":{"type":"object","x-examples":{"example-1":{"status":"SUCCESS"}},"properties":{"status":{"type":"string","x-description-ru":"Статус ответа сервера Onlinesim","description":"Onlinesim server response status","enum":["SUCCESS","ERROR"],"example":"SUCCESS"}}},"examples":{"Onlinesim server reponse example for successfuly received SMS":{"value":{"status":"SUCCESS"}}}}},"headers":{}},"404":{"x-description-ru":"`NO_OPERATION`\n\nЭта ошибка появляется, когда Вы пытаетесь отправить SMS на номер, у которого нет активной операции\n","description":"`NO_OPERATION`\n\nThis error occurs when you try to push SMS for a number that has no active operation\n"},"429":{"x-description-ru":"`TOO_MANY_ATTEMPTS`\n\nЭта ошибка появляется при большом количестве запросов в короткий промежуток времени\n","description":"`TOO_MANY_ATTEMPTS`\n\nThis error occurs when you send too many request in a short period of time\n"}},"tags":["v1"],"x-description-ru":"<blockquote>\n<p><strong>ВАЖНО!</strong>\nURL сервера Onlinesim предоставляется сотрудниками партнерской поддержки\nОбратите внимание, что URL сервера Onlinesim в примере заменен на заглушку Это webhook  для отправки сообщения на сервер Onlinesim.\nЭтот запрос должен выполняться лишь тогда, когда Ваш номер получил сообщение на заказанный номер для его (сообщения) последующей передачи на сервер Onlinesim.</p>\n</blockquote>\n<p>Если Вы получили ответ со статусом 200(OK), в Вашей базе данных SMS может быть помечено как успешно доставленное (повторно отправлять запрос не нужно),\nесли код статуса отличен от 200(OK), то необходимо повторно отправить запрос с тем же контентом через 10 секунд (за исключением получения ошибок NO_OPERATION или BAD_SERVICE).</p>\n<blockquote>\n<p><strong>ВАЖНО!</strong>\nЗаголовок запроса &#39;Content-Type&#39; должен содержать utf-8 кодировку в качестве значения\n(&#39;Content-Type&#39;: &#39;application/json; charset=utf-8&#39;).</p>\n</blockquote>\n","description":"<blockquote>\n<p><strong>IMPORTANT NOTE!</strong>\nURL of Onlinesim server is provided by Onlinesim partner support specialists\nPlease note, that the URL in the example is just a placeholder This is a webhook for sending messages to Onlinesim server.\nThis request should be sent automatically when your number with active operation has received a message to forward it to Onlinesim server.</p>\n</blockquote>\n<p>If you get a response with 200(OK) status, SMS can be marked in your database as successfully delivered (don&#39;t send message again).\nIf response is different from 200, then in 10 seconds another request with the same context should be sent, unless it&#39;s NO_OPERATION or BAD_SERVICE error.</p>\n<blockquote>\n<p><strong>IMPORTANT NOTE!</strong>\nRequest header should have utf-8 encode scheme placed in &#39;Content-Type&#39;\n(&#39;Content-Type&#39;: &#39;application/json; charset=utf-8&#39;).</p>\n</blockquote>\n","requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"smsId":{"type":"integer","x-description-ru":"ID операции (присваивается Вашим сервером)","description":"Operation ID (assigned by your server)","example":355,"minimum":1},"phoneFrom":{"type":"string","x-description-ru":"Имя или номер отправителя","description":"Name or phone number of a sender","example":"Instagram"},"phone":{"type":"string","x-description-ru":"Номер телефона с активной операцией, принявший SMS","description":"Phone number with active operation, that has received the SMS","example":"79088081050"},"text":{"type":"string","x-description-ru":"Текст сообщения","description":"Message text","example":"Your verification code is 800142"},"action":{"type":"string","x-description-ru":"Имя метода, в данном случае `PUSH&#x5C;_SMS`","description":"Method name, in this case `PUSH&#x5C;_SMS`","default":"PUSH_SMS","enum":["PUSH_SMS"],"example":"PUSH_SMS"},"key":{"type":"string","x-description-ru":"API ключ Вашего профиля партнера Onlinesim","description":"API key of your Onlinesim partner&#x27;s profile"}},"required":["smsId","phoneFrom","phone","text","action","key"]},"examples":{"Example payload of your server PUSH_SMS request":{"value":{"smsId":124971,"phoneFrom":"vk","phone":"79104041216","text":"Your OTP 46875","action":"PUSH_SMS","key":"apiKey"}}}}},"x-description-ru":"<p><a href=\"%22/ru/openapi_docs/Reseller-API-UN/post/pushSms%22\">PUSH_SMS</a> webhook: Ваш сервер должен отправлять этот запрос при наступлении события (когда заказанный номер получил сообщение).</p>\n","description":"<p><a href=\"%22/openapi_docs/Reseller-API-UN/post/pushSms%22\">PUSH_SMS</a> webhook: your server must send this request once an event is triggered (when the ordered number has received a message).</p>\n"},"parameters":["#/components/parameters/Authorization","#/components/parameters/Content-Type"]},"parameters":[]},"/finishActivation":{"post":{"summary":"FINISH_ACTIVATION","operationId":"FINISH_ACTIVATION","responses":{"200":{"x-description-ru":"Ответ Вашего сервера на запрос `FINISH_ACTIVATION` должен быть в следующем формате:","description":"The response of your server for `FINISH_ACTIVATION` request must be in following format:","content":{"application/json":{"schema":{"type":"object","x-examples":{"example-1":{"status":"SUCCESS"}},"properties":{"status":{"type":"string","x-description-ru":"Статус выполнения запроса (`SUCCESS` or `ERROR`)","description":"Request status (`SUCCESS` or `ERROR`)","enum":["SUCCESS","ERROR"],"example":"SUCCESS"}}},"examples":{"Response example from your server":{"value":{"status":"SUCCESS"}}}}}}},"x-description-ru":"Данный запрос отправляется сервером Onlinesim для закрытия текущей операции с определенным статусом (который зависит от результатов\nоперации). Запрос может быть отправлен по истечению времени (15 минут для услуги &quot;Прием SMS&quot;), при досрочном закрытии операции (SMS от заказанного сервиса было\nуспешно получено) или при отмене операции (SMS от заказанного сервиса не было получено). !(Окончание операции)[https://onlinesim.io/assets/schemes/Result%20scheme%20(RU)%20[FINISH_ACTIVATION].png]\n","description":"This request is sent by Onlinesim server to close current operation with a certain status (which depends on the result\nof operation). Request can be sent after the time for operation runs out (15 minutes for single-service activations), if the operation was closed\nprematurely (SMS has been received) or if operation has been cancelled (SMS hasn&#x27;t been received). !(Operation closing)[https://onlinesim.io/assets/schemes/Result%20scheme%20(EN)%20[FINISH_ACTIVATION].png]\n","tags":["v1"],"requestBody":{"content":{"application/json":{"schema":{"type":"object","x-examples":{"example-1":{"action":"FINISH_ACTIVATION","activationId":313922603105007,"status":4,"key":"test"}},"properties":{"action":{"type":"string","x-description-ru":"Имя метода, в данном случае `FINISH_ACTIVATION`","description":"Method name, in this case `FINISH_ACTIVATION`","default":"FINISH_ACTIVATION","enum":["FINISH_ACTIVATION"],"example":"FINISH_ACTIVATION"},"activationId":{"type":"integer","x-description-ru":"ID операции (присваивается Вашим сервером)","description":"Operation ID (assigned by your server)","minimum":1,"example":355},"status":{"type":"integer","x-description-ru":"Код статуса операции, enum.\n1 - Номер не был заказан под указанный тип услуги (например, Вы пытатесь отправить сообщение для услуги &quot;Прием&quot;, когда номер заказан для &quot;Аренда&quot;)\n2 - (deprecated)\n3 - Операция завершена успешно\n4 - Операция была отменена, сообщение не было получено\n5 - По операции был совершен возврат, в случае ошибок и проблем с сообщением.\n","description":"Status code of the operation, enum.\n1 - This number was not ordered for the current service (i.e., when you try to push SMS for &quot;single-service activation&quot; service, while number has active &quot;rent&quot; operation)\n2 - (deprecated)\n3 - Successfully sold\n4 - Canceled, message was not delivered\n5 - Refunded, in case of errors and message problems\n","example":3,"enum":[1,3,4,5]},"key":{"type":"string","x-description-ru":"API ключ Вашего профиля партнера Onlinesim","description":"API key of your Onlinesim partner&#x27;s profile"}},"required":["action","activationId","status","key"]},"examples":{"Example payload of Onlinesim server FINISH_ACTIVATION request":{"value":{"action":"FINISH_ACTIVATION","activationId":75489,"status":3,"key":"apiKey"}}}}},"x-description-ru":"Тело запроса от сервера Onlinesim","description":"Request payload from Onlinesim server"},"parameters":["#/components/parameters/Authorization"]}},"/getServicesRent":{"parameters":[],"post":{"summary":"GET_SERVICES (RENT)","operationId":"GET_SERVICES_RENT","responses":{"200":{"x-description-ru":"Ответ Вашего сервера на запрос `GET_SERVICES` должен быть в следующем формате:","description":"The response of your server for `GET_SERVICES` request must be in following format:","content":{"application/json":{"schema":{"type":"object","properties":{"countryList":{"type":"array","items":{"type":"object","properties":{"#countryname#":{"type":"string","x-description-ru":"Название страны","description":"Country name"},"operatorMap":{"type":"object","properties":{"any":{"type":"object","x-description-ru":"Количество номеров оператора `any` должно быть равно сумме доступных номеров всех других операторов этой страны","description":"Operator `any` should summarize the total amount available numbers for this country","properties":{"#service_name#":{"type":"integer","nullable":true,"x-description-ru":"Название сервиса и суммарное количество доступных номеров (все операторы, общее количество)","description":"Service name and total amount of available numbers for this service (all operators, summarized)"},"rent":{"type":"integer","x-description-ru":"Количество доступных для аренды номеров (все операторы, общее количество)","description":"Total amount of available numbers for rent (all operators, summarized)"}}},"#operator_name#":{"type":"object","properties":{"#service_name#":{"type":"integer","nullable":true,"x-description-ru":"Название сервиса и соответствующее количество доступных номеров","description":"Service name and corresponding amount of available numbers for this service"},"rent":{"type":"integer","x-description-ru":"Количество доступных для аренды номеров","description":"Amount of available numbers for rent"}}}}}}}},"status":{"type":"string","x-description-ru":"Статус выполнения запроса (`SUCCESS` or `ERROR`)","description":"Request status (`SUCCESS` or `ERROR`)","enum":["SUCCESS","ERROR"],"example":"SUCCESS"}}},"examples":{"Response example from your server (shared endpoint for rent and single-service activations)":{"value":{"countryList":[{"country":"russia","operatorMap":{"any":{"vk":10,"ok":25,"wa":52,"rent":19},"beeline":{"vk":10,"ok":15,"wa":20,"rent":9},"megafon":{"vk":0,"ok":10,"wa":32,"rent":10}}},{"country":"ukraine","operatorMap":{"any":{"vk":10,"ok":50,"wa":132,"rent":21},"life":{"vk":0,"ok":10,"wa":32,"rent":2},"vodafone":{"vk":10,"ok":10,"wa":0,"rent":14},"kyivstar":{"vk":0,"ok":30,"wa":100,"rent":5}}}],"status":"SUCCESS"}},"Response example from your server (dedicated endpoint for rent)":{"value":{"countryList":[{"country":"russia","operatorMap":{"any":{"rent":19},"beeline":{"rent":9},"megafon":{"rent":10}}},{"country":"ukraine","operatorMap":{"any":{"rent":21},"life":{"rent":2},"vodafone":{"rent":14},"kyivstar":{"rent":5}}}],"status":"SUCCESS"}}}}},"headers":{"Content-Type":{"schema":{"type":"string","default":"application/json; charset=utf-8","enum":["application/json; charset=utf-8"],"example":"application/json; charset=utf-8"},"x-description-ru":"Заголовок `Content type` и кодировка","description":"`Content type` header and encoding scheme"}}}},"x-description-ru":"<p>Данный запрос отправляется <strong>с сервера Onlinesim на Ваш сервер</strong> для получения списка доступных для аренды номеров. Ваш сервер должен вернуть список номеров в формате, описанном ниже.</p>\n<p>Для аутентификации будет использован Ваш API ключ партнера, который будет передан в теле запроса.</p>\n<blockquote>\n<p><strong>ВАЖНО!</strong>\nВы можете добавить информацию о доступных для аренды номерах на тот же endpoint, который Вы используете для приема SMS (GET_SERVICES, v1) или создать отдельный endpoint для аренды.</p>\n</blockquote>\n<blockquote>\n<p><strong>ВАЖНО!</strong>\nНеобходимо, чтобы Ваш сервер возвращал актуальное количество одновременно доступных номеров. Например, если у Вас есть SIM банк на 512 портов и только 64 GSM-модуля в оборудовании,\nВам необходимо вернуть 64 номера, а не 512. Нарушение этого условия повлечет автоматическую блокировку системой выдачу Ваших номеров на 30 минут.</p>\n</blockquote>\n<blockquote>\n<p><strong>ВАЖНО!</strong>\n<code>operatorMap</code> должен содержать оператора <code>any</code>, количество номеров которого является суммой номеров всех доступных операторов по аренде.</p>\n</blockquote>\n","description":"<p>This request is sent <strong>from Onlinesim server to yours</strong> to get a list of available for rent numbers. Your server should return a list of numbers in format described below.</p>\n<p>Your partner&#39;s API key will be passed in the request in a payload.</p>\n<blockquote>\n<p><strong>IMPORTANT NOTE!</strong>\nYou can either add a result field that contains quantity of available numbers for rent to your existing GET_SERVICES endpoint response for singe-service activations (v1) or create a new endpoint for rent only.</p>\n</blockquote>\n<blockquote>\n<p><strong>IMPORTANT NOTE!</strong>\nIt is necessary to return actual number of simultaneously available numbers. For example, if you have SIM bank with 512 ports and only 64 GSM-modules, then you should return 64, not 512.\nViolation of this condition cause the system to automatically block receiving numbers from you for 30 minutes.</p>\n</blockquote>\n<blockquote>\n<p><strong>IMPORTANT NOTE!</strong>\n<code>operatorMap</code> should contain operator <code>any</code> that includes summarized amount of numbers of all operators listed for rent.</p>\n</blockquote>\n","parameters":["#/components/parameters/Authorization"],"requestBody":{"content":{"application/json":{"schema":{"type":"object","x-examples":{"example-1":{"action":"GET_SERVICES","key":"apiKey"}},"properties":{"action":{"type":"string","x-description-ru":"Имя метода, в данном случае `GET_SERVICES`","description":"Method name, in this case `GET_SERVICES`","example":"GET_SERVICES","default":"GET_SERVICES","enum":["GET_SERVICES"]},"key":{"type":"string","x-description-ru":"API ключ Вашего профиля партнера Onlinesim","description":"API key of your Onlinesim partner&#x27;s profile"}},"required":["action","key"]},"examples":{"Example payload of Onlinesim server GET_SERVICES request (for rent)":{"value":{"action":"GET_SERVICES","key":"apiKey"}}}}},"x-description-ru":"Тело запроса от сервера Onlinesim","description":"Request payload from Onlinesim server"},"tags":["v1 rent"]}},"/getNumberRent":{"post":{"summary":"GET_NUMBER (RENT)","operationId":"GET_NUMBER_RENT","responses":{"200":{"x-description-ru":"Ответ Вашего сервера на запрос `GET_NUMBER` должен быть в следующем формате:","description":"The response of your server for `GET_NUMBER` request must be in following format:","headers":{"Content-Type":{"schema":{"type":"string","default":"application/json; charset=utf-8","enum":["application/json; charset=utf-8"],"example":"application/json; charset=utf-8"},"x-description-ru":"Заголовок `Content type` и кодировка","description":"`Content type` header and encoding scheme"}},"content":{"application/json":{"schema":{"type":"object","x-examples":{"example-1":{"number":79281234567,"activationId":355,"status":"SUCCESS"}},"properties":{"number":{"type":"integer","x-description-ru":"Номер телефона с запрошенными параметрами, который был заказан для операции, в международном формате","description":"Phone number in international format according to the requested parameters","example":79088081050},"activationId":{"type":"integer","x-description-ru":"ID операции (присваивается Вашим сервером)","description":"Operation ID (assigned by your server)","example":355,"minimum":1},"status":{"type":"string","x-description-ru":"Статус выполнения запроса (`SUCCESS` or `ERROR`)","description":"Request status (`SUCCESS` or `ERROR`)","enum":["SUCCESS","ERROR"],"example":"SUCCESS"}}},"examples":{"Response example from your server (for rent operation)":{"value":{"number":79281234567,"activationId":355,"status":"SUCCESS"}}}}}}},"x-description-ru":"<p>Этот запрос создает новую операцию аренды, которая позволяет использовать номер для приема SMS от любых сервисов и других мобильных номеров в течение длительного периода (от 1 дня до нескольких месяцев). <strong>НЕ ЗАКРЫВАЙТЕ ОПЕРАЦИЮ</strong> до получения по ней запроса FINISH_ACTIVATION.</p>\n<blockquote>\n<p><strong>ВАЖНО!</strong>\nВы можете использовать тот же endpoint, который использовали для запроса GET_NUMBER (v1) под прием SMS от отдельных сервисов или создать новый endpoint только для операций аренды.\nОднако в последнем случае Вам необходимо модифицировать его, чтобы Ваш сервер корректно обрабатывал запрос для создания операции аренды.</p>\n</blockquote>\n<p>Если номер не получит SMS в течение 20 минут после создания операции, она будет отменена автоматически, а номер вновь станет доступен для другой операции аренды. Если номер трижды не сможет получить SMS в течение 20 минут после создания операции, он будет заблокирован нашим сервером. Данные баны автоматически снимаются каждые 24 часа.</p>\n<p>Аренда может быть продлена клиентом, но доход начисляется только <strong>ПО ЗАВЕРШЕНИЮ ОПЕРАЦИИ</strong> (по истечению срока или закрытию операции клиентом самостоятельно).</p>\n<blockquote>\n<p><strong>ВАЖНО!</strong>\nМы блокируем сообщения от банков, платежных систем и кредитных организаций, чтобы оградить партнеров от каких-либо юридических последствий, которые могут возникнуть при использовании таких сервисов клиентами.\nВ то же время аренда не поддерживает возможность добавлять какие-либо сервисы в список исключений, поскольку мы не знаем заранее какие сервисы могут быть использованы клиентами. Пожалуйста, обратите внимание, что SMS от сервисов, добавленных Вами в исключения при аренде БУДУТ передаваться клиентам.</p>\n</blockquote>\n","description":"<p>This request creates a new rent operation, which will allow to use a number to receive SMS from any service and other mobile numbers for a long period of time (from 1 day to several months). <strong>DO NOT</strong> close operation before FINISH_ACTIVATION request.</p>\n<blockquote>\n<p><strong>IMPORTANT NOTE!</strong>\nYou can use the same GET_NUMBER endpoint as for single-service activations (v1) or create a new endpoint for rent orders only.\nHowever in the latter case you need to modify it so your server could create the rental operation correctly.</p>\n</blockquote>\n<p>If number won&#39;t receive SMS within 20 minutes after operation is created, the operation will be cancelled automatically, making it available for another operation. If number fails 3 operations to receive SMS within 15 minutes, it will be banned by our server. These bans are lifted automatically every 24 hours.</p>\n<p>Rent can be prolonged by the client, but the income is <strong>CREDITED UPON OPERATION CLOSING</strong> (upon rent expiration or termination).</p>\n<blockquote>\n<p><strong>Important note!</strong>\nWe&#39;re blocking messages from banks, payment systems and credit institutions to prevent any legal consequences for our partners that might be caused by unscrupulous customers.\nAt the same time long term rental does not support any exceptions for services as we don&#39;t know beforehand which service may or may not be used by our clients. Please keep in mind that any exceptions you may add for your account will not be applied for rent.</p>\n</blockquote>\n","requestBody":{"content":{"application/json":{"schema":{"type":"object","x-examples":{"example-1":{"action":"GET_NUMBER","country":"russia","operator":"any","service":"vk","sum":40,"key":"test"}},"properties":{"action":{"type":"string","x-description-ru":"Имя метода, в данном случае `GET_NUMBER`","description":"Method name, in this case `GET_NUMBER`","default":"GET_NUMBER","example":"GET_NUMBER","enum":["GET_NUMBER"]},"key":{"type":"string","x-description-ru":"API ключ Вашего профиля партнера Onlinesim","description":"API key of your Onlinesim partner&#x27;s profile"},"country":{"type":"string","x-description-ru":"<p>Название страны, enum (смотри <a href=\"#countries\">список стран</a>)</p>\n","description":"<p>Country name, enum (<a href=\"#countries\">country list</a>)</p>\n","example":"germany"},"operator":{"type":"string","x-description-ru":"<p>Название оператора, enum (смотри <a href=\"#operators\">список операторов</a>)</p>\n","description":"<p>Operator name, enum (<a href=\"#operators\">operator list</a>)</p>\n","example":"any"},"service":{"type":"string","x-description-ru":"Название сервиса. Для аренды всегда `rent`","description":"Service name, enum. For long term rental value is always `rent`","example":"rent","enum":["rent"]},"sum":{"example":320,"x-description-ru":"Первоначальная стоимость аренды, в рублях (эта сумма будет начислена на Ваш аккаунт партнера Onlinesim после успешного завершения операции аренды)","description":"Price for initial rental period, in RUB (this amount will be credited to your Onlinesim account when operation is closed successfully)","type":"number"},"exceptionPhoneSet":{"type":"array","x-description-ru":"<p>&#39;Список префиксов-исключений для масок номеров, которые <strong>НЕ</strong> должны выдаваться при запросе номера.\nФормат: код страны + следующие за ним цифры номера.\nНапример, при переданном значении 46950 не должны выдаваться номера Швеции, начинающиеся с +46950*&#39;</p>\n","description":"<p>&#39;List of exception prefixes that <strong>SHOULD NOT</strong> be issued when the number is requested.\nFormat: country code + following digits of a number.\nI.e, when value 46950 is passed, numbers of Sweden starting with +46950 shouldn&#39;t be issued&#39;</p>\n","items":{"type":"integer","example":46950}}},"required":["action","key","country","operator","service","sum"]},"examples":{"Example payload of Onlinesim server GET_NUMBER request (for rent)":{"value":{"action":"GET_NUMBER","key":"apiKey","country":"germany","operator":"any","service":"rent","sum":400}}}}},"x-description-ru":"Тело запроса от сервера Onlinesim для операции аренды","description":"Request payload from Onlinesim server for rent operation"},"tags":["v1 rent"],"parameters":["#/components/parameters/Authorization"]},"parameters":[]},"/pushSmsRent":{"post":{"servers":[{"url":"https://www.ourserver.com"}],"summary":"PUSH_SMS (RENT)","operationId":"PUSH_SMS_RENT","responses":{"200":{"x-description-ru":"Ответ сервера Onlinesim","description":"Onlinesim server response","content":{"application/json":{"schema":{"type":"object","x-examples":{"example-1":{"status":"SUCCESS"}},"properties":{"status":{"type":"string","x-description-ru":"Статус ответа сервера Onlinesim","description":"Onlinesim server response status","enum":["SUCCESS","ERROR"],"example":"SUCCESS"}}},"examples":{"Onlinesim server reponse example for PUSH_SMS request (for rental number)":{"value":{"status":"SUCCESS"}}}}},"headers":{}}},"x-description-ru":"<blockquote>\n<p><strong>ВАЖНО!</strong>\nURL сервера Onlinesim предоставляется сотрудниками партнерской поддержки\nОбратите внимание, что URL сервера Onlinesim в примере заменен на заглушку. Если Вы получили ответ со статусом 200(OK),\nв Вашей базе данных SMS может быть помечено как успешно доставленное (повторно отправлять запрос не нужно), если код статуса отличен от 200(OK),\nто необходимо повторно отправить запрос с тем же контентом через 10 секунд (за исключением получения ошибок NO_OPERATION или BAD_SERVICE).</p>\n</blockquote>\n<blockquote>\n<p><strong>ВАЖНО!</strong>\nЗаголовок запроса &#39;Content-Type&#39; должен содержать utf-8 кодировку в качестве значения\n(&#39;Content-Type&#39;: &#39;application/json; charset=utf-8&#39;).</p>\n</blockquote>\n","description":"<blockquote>\n<p><strong>IMPORTANT NOTE!</strong>\nURL of Onlinesim server is provided by Onlinesim partner support specialists\nPlease note, that the URL in the example is just a placeholder. If you get a response with 200(OK) status,\nSMS can be marked in your database as successfully delivered (don&#39;t send message again).\nIf response is different from 200, then in 10 seconds another request with the same context should be sent, unless it&#39;s NO_OPERATION or BAD_SERVICE error.</p>\n</blockquote>\n<blockquote>\n<p><strong>IMPORTANT NOTE!</strong>\nRequest header should have utf-8 encode scheme placed in &#39;Content-Type&#39;\n(&#39;Content-Type&#39;: &#39;application/json; charset=utf-8&#39;).</p>\n</blockquote>\n","requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"smsId":{"type":"integer","x-description-ru":"ID операции (присваивается Вашим сервером)","description":"Operation ID (assigned by your server)","example":355,"minimum":1},"phoneFrom":{"type":"string","x-description-ru":"Имя или номер отправителя","description":"Name or a phone number of a sender","example":"Instagram"},"phone":{"type":"string","x-description-ru":"Номер телефона с активной операцией, принявший SMS","description":"Phone number with active operation, that has received the SMS","example":"79088081050"},"text":{"type":"string","x-description-ru":"Текст сообщения","description":"Message text","example":"Your verification code is 800142"},"action":{"type":"string","x-description-ru":"Имя метода, в данном случае `PUSH&#x5C;_SMS`","description":"Method name, in this case `PUSH&#x5C;_SMS`","default":"PUSH_SMS","enum":["PUSH_SMS"],"example":"PUSH_SMS"},"key":{"type":"string","x-description-ru":"API ключ Вашего профиля партнера Onlinesim","description":"API key of your Onlinesim partner&#x27;s profile"},"service":{"type":"string","x-description-ru":"Название сервиса. Для аренды всегда `rent`","description":"Service name, for long term rental always `rent`","enum":["rent"],"example":"rent"}},"required":["smsId","phoneFrom","phone","text","action","key","service"]},"examples":{"Example payload of your server request (for rental number)":{"value":{"smsId":124980,"phoneFrom":"instagram","phone":"4605028040","text":"784958 is your secret code","action":"PUSH_SMS","key":"apiKey","service":"rent"}}}}},"x-description-ru":"<p><a href=\"%22/ru/openapi_docs/Reseller-API-UN/post/pushSmsRent%22\">PUSH_SMS</a> webhook: Ваш сервер должен отправлять этот запрос лишь при наступлении события (когда заказанный номер получил сообщение).</p>\n","description":"<p><a href=\"%22/openapi_docs/Reseller-API-UN/post/pushSmsRent%22\">PUSH_SMS</a> webhook: your server must send this request once an event is triggered (when the ordered number has received a message).</p>\n"},"parameters":["#/components/parameters/Authorization","#/components/parameters/Content-Type"],"tags":["v1 rent"]},"parameters":[]},"/finishActivationRent":{"post":{"summary":"FINISH_ACTIVATION (RENT)","operationId":"FINISH_ACTIVATION_RENT","responses":{"200":{"x-description-ru":"Ответ Вашего сервера на запрос `FINISH_ACTIVATION` должен быть в следующем формате:","description":"The response of your server for `FINISH_ACTIVATION` request must be in following format:","content":{"application/json":{"schema":{"type":"object","x-examples":{"example-1":{"status":"SUCCESS"}},"properties":{"status":{"type":"string","x-description-ru":"Статус выполнения запроса (`SUCCESS` or `ERROR`)","description":"Request status (`SUCCESS` or `ERROR`)","enum":["SUCCESS","ERROR"],"example":"SUCCESS"}}},"examples":{"Response example from your server (when the rental operation was successfuly closed on your server)":{"value":{"status":"SUCCESS"}}}}}}},"x-description-ru":"<p>Данный запрос отправляется сервером Onlinesim для закрытия текущей операции аренды с определенным статусом (который зависит от результатов операции).\nЗапрос может быть отправлен по истечению времени (15 минут), при досрочном закрытии операции (SMS от заказанного сервиса было успешно получено) или\nпри отмене операции (SMS от заказанного сервиса не было получено).</p>\n<blockquote>\n<p><strong>ВАЖНО!</strong>\nВы можете использовать тот же endpoint, что и для закрытия операций по приему SMS (FINISH_ACTIVATION, v1), либо использовать отдельный endpoint исключительно для операций аренды.\nОднако в последнем случае Вам необходимо модифицировать его, чтобы Ваш сервер корректно обрабатывал запрос для закрытия операции аренды.</p>\n</blockquote>\n","description":"<p>This request is sent by Onlinesim server to close current rent operation with a specific status (which depends on the result of operation).\nRequest can be sent on operation timeout, if the operation was closed prematurely (SMS has been received) or if operation has been cancelled (SMS hasn&#39;t been received).</p>\n<blockquote>\n<p><strong>IMPORTANT NOTE!</strong>\nYou can either use your existing FINISH_ACTIVATION endpoint for single-service activations (v1) or create a new endpoint for the rent only.\nHowever in the latter case you need to modify it so your server could process the rental operation correctly.</p>\n</blockquote>\n","requestBody":{"content":{"application/json":{"schema":{"type":"object","x-examples":{"example-1":{"action":"FINISH_ACTIVATION","activationId":313922603105007,"status":4,"key":"test"}},"properties":{"action":{"type":"string","x-description-ru":"Имя метода, в данном случае `FINISH_ACTIVATION`","description":"Method name, in this case `FINISH_ACTIVATION`","default":"FINISH_ACTIVATION","enum":["FINISH_ACTIVATION"],"example":"FINISH_ACTIVATION"},"activationId":{"type":"integer","x-description-ru":"ID операции (присваивается Вашим сервером)","description":"Operation ID (assigned by your server)","minimum":1,"example":355},"status":{"type":"integer","x-description-ru":"Код статуса операции, enum.\n1 - Номер не был заказан под указанный тип услуги (например, Вы пытатесь отправить сообщение для услуги &quot;Прием&quot;, когда номер заказан для &quot;Аренда&quot;)\n2 - (deprecated)\n3 - Операция завершена успешно\n4 - Операция была отменена, сообщение не было получено\n5 - По операции был совершен возврат, в случае ошибок и проблем с сообщением.\n","description":"Status code of the operation, enum.\n1 - This number was not ordered for the current service (i.e., when you try to push SMS for &quot;single-service activation&quot; service, while number has active &quot;rent&quot; operation)\n2 - (deprecated)\n3 - Successfully sold\n4 - Canceled, message was not delivered\n5 - Refunded, in case of errors and message problems\n","example":3,"enum":[1,3,4]},"key":{"type":"string","x-description-ru":"API ключ Вашего профиля партнера Onlinesim","description":"API key of your Onlinesim partner&#x27;s profile"},"service":{"type":"string","x-description-ru":"Название сервиса. Для аренды всегда `rent`","description":"Service name, in this case `rent`","enum":["rent"],"example":"rent"},"sum":{"type":"number","x-description-ru":"Общая стоимость аренды, включая все периоды продления, в рублях (эта сумма будет начислена на Ваш аккаунт партнера Onlinesim при успешном завершении операции аренды)","description":"Total service price that includes all rental periods, in RUB (this sum will be credited to your Onlinesim account after successful rental operation)","example":870}},"required":["action","activationId","status","key","service","sum"]},"examples":{"Example payload of Onlinesim server FINISH_ACTIVATION request (for closing rent operation)":{"value":{"action":"FINISH_ACTIVATION","activationId":75491,"status":3,"key":"apiKey","service":"rent","sum":2408}}}}},"x-description-ru":"Тело запроса от сервера Onlinesim","description":"Request payload from Onlinesim server"},"tags":["v1 rent"],"parameters":["#/components/parameters/Authorization"]},"parameters":[]},"/api/resellers/sendNumbersOnline":{"post":{"servers":[{"url":"https://www.ourserver.com"}],"summary":"sendNumbersOnline","operationId":"sendNumbersOnline","responses":{"200":{"x-description-ru":"Ответ сервера Onlinesim","description":"Onlinesim server response","content":{"application/json":{"schema":{"type":"object","properties":{"response":{"oneOf":[{"type":"string"},{"type":"integer"}],"x-description-ru":"1, если запрос был выполнен успешно, либо выведет сообщение об ошибке","description":"1, if request was successful, otherwise error message will come up","example":1},"ids":{"type":"object","properties":{"#number#":{"type":"integer","nullable":true,"x-description-ru":"<p>ID номеров, номер: <code>id</code> - возвращает ID для каждого номера (или присваивает ID для нового номера), либо присваивает <code>null</code> для удаленных номеров</p>\n","description":"<p>Numbers IDs, number: <code>id</code> - returns id for each existing number (or assigns <code>id</code> for new ones) or assigns <code>null</code> for removed numbers</p>\n"}}}}},"examples":{"Onlinesim server reponse example":{"value":{"response":1,"ids":{"+234112233445":1042,"+234112233446":1043,"+234112233447":1044}}}}}}},"400":{"x-description-ru":"Ошибка 400","description":"Bad Request","content":{"text/html":{"schema":{"type":"string","x-description-ru":"Описание ошибки","description":"Error description"},"examples":{"Incorrect format number passed":{"value":"NUMBER_FORMAT_ERROR"},"date_start format error":{"value":"ERROR_DATE"}}}}}},"x-description-ru":"<blockquote>\n<p><strong>ВАЖНО!</strong>\nURL сервера Onlinesim предоставляется сотрудниками партнерской поддержки\nОбратите внимание, что URL сервера Onlinesim в примере заменен на заглушку В этом запросе следует передавать все доступные для продажи номера. Данный запрос должен отправляться на сервер Onlinesim каждые 5 минут (для подтверждения аптайма Вашего сервера) и после каждого изменения списка номеров: после добавления новых номеров или удаления каких-либо ранее переданных. Однако, есть альтернативный вариант: для подтверждения аптайма, Вы можете воспользоваться запросом <a href=\"ru/openapi_docs/Reseller-API-UN/get/api_resellers\">checkWork</a>, а для добавления и удаления номеров - запросами <a href=\"ru/openapi_docs/Reseller-API-UN/post/api_resellers_addNumber\">addNumber</a> и <a href=\"ru//openapi_docs/Reseller-API-UN/delete/api_resellers_removeNumber\">removeNumber</a> соответственно.</p>\n</blockquote>\n<blockquote>\n<p><strong>ВАЖНО!</strong>\nНеобходимо, чтобы Ваш сервер возвращал актуальное количество одновременно доступных номеров. Например, если у Вас есть SIM банк на 512 портов и только 64 GSM-модуля в оборудовании, Вам необходимо вернуть 64 номера, а не 512. Нарушение этого условия повлечет автоматическую блокировку системой выдачу Ваших номеров на 30 минут.</p>\n</blockquote>\n<blockquote>\n<p><strong>ВАЖНО!</strong>\nВключение параметра `rent` (присваиванием ему значения <code>1</code>) позволяет клиентам арендовать Ваши номера на длительный период, значительно увеличивая Ваш доход. Однако Вам необходимо связаться с партнерской поддержкой для получиения подробной информации об условиях и требованиях к арендным номерам, перед тем, как мы включим этот функционал на Вашем аккаунте.</p>\n</blockquote>\n","description":"<blockquote>\n<p><strong>IMPORTANT NOTE!</strong>\nURL of Onlinesim server is provided by Onlinesim partner support specialists\nPlease note, that the URL in the example is just a placeholder In this request all numbers available for sale should be passed. This request should be sent to Onlinesim server every 5 minutes (to ensure that your server is up and running) and after any change in the number list: after adding new numbers or removing any of previously passed ones. However, there is another way: you can send <a href=\"openapi_docs/Reseller-API-UN/get/api_resellers\">checkWork</a> request every 5 minutes (as confirmation that your server is up and running), and use <a href=\"openapi_docs/Reseller-API-UN/post/api_resellers_addNumber\">addNumber</a> and <a href=\"/openapi_docs/Reseller-API-UN/delete/api_resellers_removeNumber\">removeNumber</a> to add or delete numbers respectively.</p>\n</blockquote>\n<blockquote>\n<p><strong>IMPORTANT NOTE!</strong>\nOnly list of active numbers should be passed in this request. If you have a 32 port device and a 512 port SIM bank, you should send a list with 32 numbers that currently in the ports.</p>\n</blockquote>\n<blockquote>\n<p><strong>IMPORTANT NOTE!</strong>\nEnabling `rent` parameter (by assigning value <code>1</code> to it) allows clients to rent your number for a longer period, significantly increasing your income. However you need to contact partner support to get a detailed information on terms and requirements before we enable it for your account.</p>\n</blockquote>\n","parameters":["#/components/parameters/Authorization"],"requestBody":{"content":{"application/json":{"schema":{"type":"object","x-examples":{"example-1":{"numbers":[{"number":"+234112233445","country_id":234},{"number":"+234112233446","country_id":234,"date_start":1543907600,"operator":28967}]}},"properties":{"numbers":{"type":"array","items":{"type":"object","properties":{"number":{"type":"string","x-description-ru":"Номер телефона в международном формате","description":"Phone number in international format","example":"+46050910804"},"country_id":{"type":"integer","x-description-ru":"<p>Код страны (согласно стандарта E.164, без знака <code>+</code>)</p>\n","description":"<p>Country code (according to Е.164 standard, without <code>+</code> sign)</p>\n","example":46},"operator":{"type":"integer","x-description-ru":"MCC + MNC коды оператора (эти коды содержатся в первых 5 цифрах IMSI)","description":"MCC + MNC operator code (first 5 digits of IMSI)","example":24012},"date_start":{"type":"integer","x-description-ru":"Дата и время размещения номера (UNIX timestamp)","description":"Date and time of placement (UNIX timestamp)","example":1658209063},"port_id":{"type":"string","x-description-ru":"Уникальное имя порта, которое будет отображаться в нашем интерфейсе на странице управления Вашими номерами.\nЗначение по умолчанию совпадает с номером телефона (значением параметра `number`)\n","description":"&#x27;Unique port name, this name will be displayed in our interface on your personal web-page.\nUnless specified defaults to phone number value (value of `number` parameter)&#x27;\n","example":"Port1","maxLength":100},"rent":{"type":"integer","x-description-ru":"<p>Режим аренды:\n<code>1</code> - включен,\n<code>0</code> - выключен,</p>\n","description":"<p>Rent mode:\n<code>1</code> - enabled,\n<code>0</code> - disabled</p>\n","enum":[0,1],"example":0}},"required":["number","country_id"]}},"test":{"type":"string","x-description-ru":"&#x27;Параметр для тестов. Может принимать одно из двух значений: `test1` или `test2`.\nБудучи равным `test1` отправит запрос на сервер, но данные, переданные таким запросом не будут сохранены нашим сервером (не вызовет исполнения функции).\nЕсли параметр будет равен `test2`, то сервер Onlinesim в ответе вернет тело Вашего запроса.&#x27;\n","description":"<p>&#39;Testing parameter. Allowed values are <code>test1</code>, <code>test2</code>.\nWhile being assigned, <code>test1</code> value will allow the request to be passed, however the data won&#39;t be saved by our server (the function will not be executed by this request).\nWhile being assigned, <code>test2</code> value will print out your request&#39;s payload in response.&#39;</p>\n","enum":["test1","test2"]}}},"examples":{"Example payload of your server `sendNumbersOnline` request":{"value":{"numbers":[{"number":"+234112233445","country_id":234},{"number":"+234112233446","country_id":234,"operator":28967,"date_start":1543907600},{"number":"+234112233447","country_id":234,"operator":28967,"date_start":1543907600,"port_id":"Port1"}]}}}}},"x-description-ru":"&#x27;Ваш сервер должен посылать данный запрос каждые 5 минут в качестве подверждения аптайма, либо при изменении списка доступных номеров\n(при добавлении новых номеров или удалении каких-либо, ранее переданных).&#x27;\n","description":"&#x27;Your server should send this request every 5 minutes as a confirmation of uptime or when the list of available numbers is changed\n(when new numbers are added or previously passed ones are removed).&#x27;\n"},"tags":["v2"]}},"/api/resellers/addMessage":{"post":{"servers":[{"url":"https://www.ourserver.com"}],"summary":"addMessage","operationId":"addMessage","responses":{"200":{"x-description-ru":"Ответ сервера Onlinesim","description":"Onlinesim server response","content":{"application/json":{"schema":{"type":"object","x-examples":{"example-1":{"response":1}},"properties":{"response":{"oneOf":[{"type":"string"},{"type":"integer"}],"x-description-ru":"1, если запрос был выполнен успешно, либо выведет сообщение об ошибке","description":"1, if request was successful, otherwise error message will come up","example":1}}},"examples":{"Onlinesim server reponse example for `addMessage` request (message successfuly received)":{"value":{"response":1}}}}}},"400":{"description":"Bad Request","content":{"text/html":{"schema":{"type":"string"},"examples":{"Number that has received SMS wasn't found the current number list (`number` value must match with one in current list of numbers sent with `sendNumbersOnline` request)":{"value":"NO_NUMBER"},"Invalid parameters in request (request must contain required parameters in it's body with proper names as described in documentation)":{"value":"ERROR_PARAMS"},"Invalid number format (`number` value must have either a phone number in international format or a number's ID)":{"value":"NUMBER_FORMAT_ERROR"}}}}}},"x-description-ru":"<blockquote>\n<p><strong>ВАЖНО!</strong>\nURL сервера Onlinesim предоставляется сотрудниками партнерской поддержки\nОбратите внимание, что URL сервера Onlinesim в примере заменен на заглушку Этот запрос пересылает сообщения которые были получены Вашими номерами на сервер Onlinesim.\nВы можете отфильтровать сообщения перед отправкой запроса (отсылать только SMS от заказанного сервиса) или отсылать все сообщения, а мы произведем фильтрацию на своей стороне.</p>\n</blockquote>\n<p>Вы также можете заблокировать все входящие SMS, содержащие конфиденциальную информацию и персональные данные, такие как пароль для входа в личный кабинет на сайте мобильного оператора и другие SMS.</p>\n","description":"<blockquote>\n<p><strong>IMPORTANT NOTE!</strong>\nURL of Onlinesim server is provided by Onlinesim partner support specialists\nPlease note, that the URL in the example is just a placeholder This requests forwards messages that were received by your numbers to our server.\nYou can filter the messages before sending a request (send only SMS from ordered service) or send all messages, and we will filter them on our side.</p>\n</blockquote>\n<p>You can also block all incoming SMS containing confidential or sensitive information such as SMS with credentials of private account on mobile operator&#39;s site and other SMS.</p>\n","tags":["v2"],"requestBody":{"content":{"application/json":{"schema":{"type":"object","x-examples":{"example-1":{"date":"1546934787","number":"+234112233445","from":"VKcom","message":"VKcom 111111"}},"properties":{"date":{"type":"string","x-description-ru":"Дата и время приема сообщения (в формате UNIX timestamp)","description":"Date and time when SMS was received (UNIX timestamp)","example":"1658209069"},"number":{"type":"string","x-description-ru":"<p>&#39;Номер телефона в международном формате или ID номера\n(смотри ответ сервера на запрос <a href=\"/ru/openapi_docs/Reseller-API-UN/post/api_resellers_sendNumbersOnline\">sendNumbersOnline</a>)&#39;</p>\n","description":"<p>&#39;Phone number in international format or number&#39;s ID\n(see <a href=\"/openapi_docs/Reseller-API-UN/post/api_resellers_sendNumbersOnline\">sendNumbersOnline</a> server response)&#39;</p>\n","example":"+234112233445"},"from":{"type":"string","x-description-ru":"Имя или номер отправителя","description":"Name or a phone number of a sender","example":"Instagram"},"message":{"type":"string","x-description-ru":"Текст сообщения","description":"Message text","example":"Your OTP is 785094"},"test":{"type":"string","x-description-ru":"&#x27;Параметр для тестов. Может принимать одно из двух значений: `test1` или `test2`.\nБудучи равным `test1` отправит запрос на сервер, но данные, переданные таким запросом не будут сохранены нашим сервером (не вызовет исполнения функции).\nЕсли параметр будет равен `test2`, то сервер Onlinesim в ответе вернет тело Вашего запроса.&#x27;\n","description":"<p>&#39;Testing parameter. Allowed values are <code>test1</code>, <code>test2</code>.\nWhile being assigned, <code>test1</code> value will allow the request to be passed, however the data won&#39;t be saved by our server (the function will not be executed by this request).\nWhile being assigned, <code>test2</code> value will print out your request&#39;s payload in response.&#39;</p>\n","enum":["test1","test2"]}},"required":["date","number","from","message"]},"examples":{"Example payload of your server `addMessage` request":{"value":{"date":"1546934787","number":"+234112233445","from":"VKcom","message":"VKcom 111111"}}}}},"x-description-ru":"Ваш сервер должен отослать этот запрос как только заказанный номер получит сообщение.","description":"Your server should send this request as soon as number with active operation receives the message (webhook)."},"parameters":["#/components/parameters/Authorization","#/components/parameters/Content-Type"]}},"/api/resellers/takeOffNumbers":{"get":{"servers":[{"url":"https://www.ourserver.com"}],"summary":"takeOffNumbers","tags":["v2"],"responses":{"200":{"x-description-ru":"Ответ сервера Onlinesim","description":"Onlinesim server response","content":{"application/json":{"schema":{"type":"object","x-examples":{"example-1":{"response":1,"list":[{"id":"40516575","number":"2203833346","sum":"75.76","country":"220"},{"id":"40516576","number":"2203833341","sum":"75.76","country":"220"},{"id":"40516577","number":"2203132613","sum":"75.76","country":"220"},{"id":"40516579","number":"2202759574","sum":"118.14","country":"220"},{"id":"40516583","number":"2202082904","sum":"54.38","country":"220"},{"id":"40572705","number":"2203796711","sum":"110.27","country":"220"}]}},"properties":{"response":{"oneOf":[{"type":"string"},{"type":"integer"}],"x-description-ru":"1, если запрос был выполнен успешно, либо выведет сообщение об ошибке","description":"1, if request was successful, otherwise error message will come up","example":1},"list":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","x-description-ru":"ID номера","description":"Number ID","example":"10001"},"number":{"type":"string","x-description-ru":"Номер телефона в международном формате","description":"Phone number in international format","example":"+4605091080"},"sum":{"type":"string","x-description-ru":"Общая сумма дохода, заработанная номером","description":"Total income earned by this number","example":"75.76"},"country":{"type":"string","x-description-ru":"<p>Код страны (согласно стандарта E.164, без знака <code>+</code>)</p>\n","description":"<p>Country code (according to Е.164 standard, without <code>+</code> sign)</p>\n","example":"46"}}}}}},"examples":{"Example response of Onlinesim server for takeOffNumbers request":{"value":{"response":1,"list":[{"id":"40516575","number":"2203830000","sum":"75.76","country":"220"},{"id":"40516576","number":"2203830001","sum":"58.76","country":"220"}]}}}}}},"400":{"description":"Bad Request","content":{"text/html":{"schema":{"type":"string"},"examples":{"Invalid parameters":{"value":"ERROR_PARAMS"}}}}}},"operationId":"takeOffNumbers","x-description-ru":"<blockquote>\n<p><strong>ВАЖНО!</strong>\nURL сервера Onlinesim предоставляется сотрудниками партнерской поддержки\nОбратите внимание, что URL сервера Onlinesim в примере заменен на заглушку Этот запрос опционален, Вы можете не реализовывать его. Запрос возвращает информацию о доходе Ваших текущих номеров, эти данные также доступны в Вашем личном кабинете. При переданном параметре sum, возвращает список номеров, чей доход превышает переданное значение.</p>\n</blockquote>\n<p>Этот запрос может быть использован, чтобы быстро получить информацию о том, какие номера достигли желаемого Вами дохода и могут быть заменены на новые.</p>\n","description":"<blockquote>\n<p><strong>IMPORTANT NOTE!</strong>\nURL of Onlinesim server is provided by Onlinesim partner support specialists\nPlease note, that the URL in the example is just a placeholder This request is optional, and you can skip this part. It returns income information of your online numbers, this data is also available on your personal page. It returns a list of numbers which income is greater than specified sum parameter.</p>\n</blockquote>\n<p>This request can be used to quickly obtain information on what online numbers has reached desired income and can be replaced with new ones.</p>\n","parameters":[{"schema":{"type":"string","default":"50"},"in":"query","name":"sum","x-description-ru":"&#x27;Фильтр по значению дохода, в рублях. Например: при sum = 37.5, запрос вернет список активных номеров, чей доход равен или превышает 37.5 рублей.&#x27;\n","description":"&#x27;Filter income value, in rubles. Example: if sum = 37.5, the request will return a list of online numbers which income is equal to 37.5 RUB or more&#x27;\n"},"#/components/parameters/Authorization"]}},"/api/resellers/addNumber":{"post":{"servers":[{"url":"https://www.ourserver.com"}],"summary":"addNumber","operationId":"addNumber","responses":{"200":{"x-description-ru":"Ответ сервера Onlinesim","description":"Onlinesim server response","content":{"application/json":{"schema":{"type":"object","properties":{"response":{"oneOf":[{"type":"string"},{"type":"integer"}],"x-description-ru":"1, если запрос был выполнен успешно, либо выведет сообщение об ошибке","description":"1, if request was successful, otherwise error message will come up","example":1},"ids":{"type":"object","properties":{"#number#":{"type":"integer","x-description-ru":"<p>ID номеров, номер: <code>id</code> - возвращает ID для каждого номера (или присваивает ID для нового номера), либо присваивает <code>null</code> для удаленных номеров</p>\n","description":"<p>Numbers IDs, number: <code>id</code> - returns id for each existing number (or assigns <code>id</code> for new ones) or assigns <code>null</code> for removed numbers</p>\n"}}}}},"examples":{"Onlinesim server reponse example (successfuly added new numbers)":{"value":{"response":1,"ids":{"+234112233445":1042,"+234112233446":1043,"+234112233447":1044}}}}}}},"400":{"description":"Bad Request","content":{"text/html":{"schema":{"type":"string"},"examples":{"Incorrect format number passed":{"value":"NUMBER_FORMAT_ERROR"},"date_start format error":{"value":"ERROR_DATE"}}}}}},"tags":["v2"],"x-description-ru":"<blockquote>\n<p><strong>ВАЖНО!</strong>\nURL сервера Onlinesim предоставляется сотрудниками партнерской поддержки\nОбратите внимание, что URL сервера Onlinesim в примере заменен на заглушку Данный запрос позволяет Вам добавлять номера на сервер Onlinesim по одному, в противоположность <a href=\"/ru/openapi_docs/Reseller-API-UN/post/api_resellers_sendNumbersOnline\">sendNumbersOnline</a>, который отсылает все активные номера в виде цельного списка. Это может быть особенно полезно если Вам необходимо добавить новые номера к списку уже существующих, вместо передачи измененного списка каждый раз, когда Вы добавляете номера.</p>\n</blockquote>\n<blockquote>\n<p><strong>ВАЖНО!</strong>\nВключение параметра <code>rent</code> (присваиванием ему значения <code>1</code>) позволяет клиентам арендовать Ваши номера на длительный период, значительно увеличивая Ваш доход. Однако Вам необходимо связаться с партнерской поддержкой для получиения подробной информации об условиях и требованиях к арендным номерам, перед тем, как мы включим этот функционал на Вашем аккаунте.</p>\n</blockquote>\n","description":"<blockquote>\n<p><strong>IMPORTANT NOTE!</strong>\nURL of Onlinesim server is provided by Onlinesim partner support specialists\nPlease note, that the URL in the example is just a placeholder This request allows you to add numbers to the Onlinesim server by one at a time, on the contrary to <a href=\"/openapi_docs/Reseller-API-UN/post/api_resellers_sendNumbersOnline\">sendNumbersOnline</a> that sends all active numbers as a list. This could be especially reasonable if you need to add new numbers to the list of existing ones, instead of passing the modified list every time when you add new numbers.</p>\n</blockquote>\n<blockquote>\n<p><strong>IMPORTANT NOTE!</strong>\nEnabling <code>rent</code> parameter (by assigning value <code>1</code> to it) allows clients to rent your number for a longer period, significantly increasing your income. However you need to contact partner support to get a detailed information on terms and requirements before we enable it for your account.</p>\n</blockquote>\n","parameters":["#/components/parameters/Authorization"],"requestBody":{"content":{"application/json":{"schema":{"type":"object","x-examples":{"example-1":{"number":"+234112233447","country_id":234,"operator":28967,"date_start":1543907600,"port_id":"Port1"}},"x-description-ru":"Схема тела запроса","description":"Payload schema","properties":{"number":{"type":"string","x-description-ru":"<p>Номер телефона в международном формате (со знаком <code>+</code>)</p>\n","description":"<p>Number in international format (with <code>+</code> sign)</p>\n","example":"+4695000051"},"country_id":{"type":"integer","x-description-ru":"<p>Код страны (согласно стандарта Е.164, без знака <code>+</code>)</p>\n","description":"<p>Country code (according to Е.164 standard, without <code>+</code> sign)</p>\n","example":46,"minimum":1},"port_id":{"type":"string","x-description-ru":"&#x27;Уникальное имя порта, которое будет отображаться в нашем интерфейсе на странице управления Вашими номерами.\nЗначение по умолчанию совпадает с номером телефона (значением параметра `number`)&#x27;\n","description":"&#x27;Unique port name, this name will be displayed in our interface on your personal web-page.\nUnless specified defaults to phone number value (value of `number` parameter)&#x27;\n","example":"Port1","maxLength":100},"rent":{"type":"integer","x-description-ru":"<p>Режим аренды для этого номера:\n<code>1</code> - включен,\n<code>0</code> - выключен,</p>\n","description":"<p>Rent mode for this number:\n<code>1</code> - enabled,\n<code>0</code> - disabled</p>\n","enum":[0,1],"example":0},"operator":{"type":"integer","x-description-ru":"MCC + MNC коды оператора (эти коды содержатся в первых 5 цифрах IMSI)","description":"MCC + MNC operator code (first 5 digits of IMSI)","example":24012},"date_start":{"type":"integer","x-description-ru":"Дата и время размещения номера (UNIX timestamp)","description":"Date and time of placement (UNIX timestamp)","example":1658209063}},"required":["number","country_id","rent"]},"examples":{"Payload example for  `addNumber` from your server":{"value":{"number":"+46050910804","country_id":46,"operator":24012,"date_start":1658209063,"port_id":"Port1","rent":0,"test":"test1"}}}}},"x-description-ru":"Добавление Ваших новых номеров к списку существующих на сервер Onlinesim.","description":"Adding new numbers to the list of existing ones on Onlinesim server."}}},"/api/resellers/checkNumber":{"get":{"servers":[{"url":"https://www.ourserver.com"}],"summary":"checkNumber","tags":["v2"],"responses":{"200":{"x-description-ru":"Ответ сервера Onlinesim","description":"Onlinesim server response","content":{"application/json":{"schema":{"type":"object","x-examples":{"example-1":{"id":40516583,"balance":0,"country_id":220,"errors":0,"number":"2202082904","port_id":"AlizeeTel30_dongle-15","sum":54,"used_service":{"telegram ":"tg","whatsapp ":"wa"},"banned_service":{"whatsapp":"wa"},"banned":false,"reseller_id":2322,"rent":null,"status":1,"status_text":"work","clearable":true,"created_at":{"date":"2022-07-13 06:10:00.000000","timezone_type":3,"timezone":"Europe/Moscow"},"response":1}},"properties":{"id":{"type":"integer","x-description-ru":"ID номера","description":"Number ID","example":110251},"balance":{"type":"number","x-description-ru":"Баланс номера","description":"Number balance"},"country_id":{"type":"integer","x-description-ru":"<p>Код страны (согласно стандарта E.164, без знака <code>+</code>)</p>\n","description":"<p>Country code (according to Е.164 standard, without <code>+</code> sign)</p>\n","example":46},"errors":{"type":"integer","x-description-ru":"Какое количество раз номер был заказан, но не сумел получить SMS (количество неудачных операций)","description":"How many failed operation current number has","example":0},"number":{"type":"string","x-description-ru":"Номер телефона в международном формате","description":"Phone number in international format","example":"4605091080"},"port_id":{"type":"string","x-description-ru":"&#x27;Уникальное имя порта, которое будет отображаться в нашем интерфейсе на странице управления Вашими номерами.\nЗначение по умолчанию совпадает с номером телефона (значением параметра `number`)&#x27;\n","description":"&#x27;Unique port name, this name will be displayed in our interface on your personal web-page.\nUnless specified defaults to phone number value (value of `number` parameter)&#x27;\n","maxLength":100,"example":"Port1"},"sum":{"type":"number","x-description-ru":"Общий доход, полученный данным номером, в рублях","description":"Total income earned by this number, in RUB","example":76.25},"used_service":{"type":"object","x-description-ru":"Список использованных на этом номере сервисов","description":"List of used services for current number","properties":{"#service_name# ":{"type":"string","x-description-ru":"Имя сервиса : slug сервиса (короткое имя сервиса, необходимое для заказа)","description":"Service name : service slug (encoded service name, required for order)","example":"wa"}}},"banned_service":{"type":"object","x-description-ru":"Список заблокированных на этом номере сервисов","description":"List of banned services for current number","properties":{"#service_name# ":{"type":"string","x-description-ru":"Имя сервиса : slug сервиса (короткое имя сервиса, необходимое для заказа)","description":"Service name : service slug (encoded service name, required for order)","example":"tg"}}},"banned":{"type":"boolean","x-description-ru":"<p>Если <code>true</code>, номер заблокирован (блокировка применяется автоматически, после 3 неудачных операций). Блокировка снимается автоматически раз в 24 часа или по нажатию на кнопку <code>Сброс банов</code>/<code>Clean all banned services</code>.</p>\n","description":"<p>If <code>true</code> the number is banned (ban is applied after 3 failed operations). It is lifted automatically every 24 hours or upon clicking <code>Reset bans</code>/<code>Clean all banned services</code> button.</p>\n"},"reseller_id":{"type":"integer","x-description-ru":"ID аккаунта партнера Onlinesim","description":"Partner&#x27;s account ID"},"rent":{"type":"boolean","x-description-ru":"При значении `true`, у Вашего аккаунта есть возможность предоставлять номера в аренду","description":"If `true`, your account is eligible for providing long term rent service","nullable":true},"status":{"type":"integer","x-description-ru":"<p>&#39;Текущий статус номера, enum:\n<code>1</code> - номер работает\n<code>2</code> - номер загружается на сервер (после добавления в список номеров)\n<code>3</code> - номер оффлайн (при изъятии номера из списка номеров партнером, либо в результате неисправности)\n<code>4</code> - указанный Вами номер отсутствует на Вашем аккаунте (некорректный номер)\n<code>5</code> - (deprecated)\n<code>6</code> - ошибка аренды: данный номер ранее был успешно использован для аренды и больше не будет генерировать доход. Вам необходимо заменить номер на новый.\n<code>7</code> - номер перезагружается сервером&#39;</p>\n","description":"<p>&#39;Current status of the number, enum:\n<code>1</code> - number is working\n<code>2</code> - number is queued up/loading (after the placement)\n<code>3</code> - number is offline (was taken out by the partner or malfunction happened)\n<code>4</code> - such number does not exist on your account (invalid entry)\n<code>5</code> - (deprecated)\n<code>6</code> - rent error: this number was successfully used for long term rent and won&#39;t generate the profit anymore. You need to replace the number with a new one.\n<code>7</code> - number is reloading by the server&#39;</p>\n","enum":[1,2,3,4,6,7]},"status_text":{"type":"string","x-description-ru":"Текущий статус номера, текстовое описание","description":"Current status of the number, textual description","example":"work"},"clearable":{"type":"boolean","x-description-ru":"<p>Доступность функции <code>Сброс банов</code>/<code>Clean all banned services</code> (доступно раз в 24 часа)</p>\n","description":"<p><code>Reset bans</code>/<code>Clean all banned services</code> function availability (available once in 24 hours)</p>\n"},"created_at":{"type":"object","properties":{"date":{"type":"string","x-description-ru":"Дата и время размещения номера","description":"Date and time of placement"},"timezone_type":{"type":"integer","x-description-ru":"Часовой пояс времени сервера","description":"Server timezone"},"timezone":{"type":"string","x-description-ru":"Часовой пояс времени сервера (в текстовом формате)","description":"Server timezone (text)"}}},"response":{"oneOf":[{"type":"string"},{"type":"integer"}],"x-description-ru":"1, если запрос был выполнен успешно, либо выведет сообщение об ошибке","description":"1, if request was successful, otherwise error message will come up","example":1}}},"examples":{"Exmaple response from Onlinesim server (successfuly retrieved information on the number)":{"value":{"id":110251,"balance":0,"country_id":46,"errors":0,"number":"4605091080","port_id":"Port1","sum":76.25,"used_service":{"whatsapp":"wa"},"banned_service":{"telegram":"tg"},"banned":true,"reseller_id":241,"rent":true,"status":1,"status_text":"work","clearable":true,"created_at":{"date":"2022-07-22 15:21:16.000000","timezone_type":3,"timezone":"Europe/Moscow"},"response":1}}}}}}},"operationId":"checkNumber","x-description-ru":"<blockquote>\n<p><strong>ВАЖНО!</strong>\nURL сервера Onlinesim предоставляется сотрудниками партнерской поддержки\nОбратите внимание, что URL сервера Onlinesim в примере заменен на заглушку Данный запрос возвращает подробную информацию о номере.</p>\n</blockquote>\n<p>Вы можете использовать его для получения данных, например, для анализа статистики номеров.</p>\n","description":"<blockquote>\n<p><strong>IMPORTANT NOTE!</strong>\nURL of Onlinesim server is provided by Onlinesim partner support specialists\nPlease note, that the URL in the example is just a placeholder This request retrieves detailed information about the number.</p>\n</blockquote>\n<p>You might need it to gather the data to analyse the statistic.</p>\n","parameters":[{"schema":{"type":"string","example":"+460509081050"},"in":"query","name":"number","required":true,"x-description-ru":"Номер телефона в международном формате (включая код страны)","description":"Phone number in international format (including country code)"},"#/components/parameters/Authorization"]}},"/api/resellers":{"get":{"servers":[{"url":"https://www.ourserver.com"}],"summary":"checkWork","tags":["v2"],"responses":{"200":{"x-description-ru":"Ответ сервера Onlinesim","description":"Onlinesim server response","content":{"application/json":{"schema":{"type":"object","properties":{"response":{"oneOf":[{"type":"string"},{"type":"integer"}],"x-description-ru":"1, если запрос был выполнен успешно, либо выведет сообщение об ошибке","description":"1, if request was successful, otherwise error message will come up","example":1}}},"examples":{"Example response from Onlinesim server (successfuly received uptime confirmation from your server)":{"value":{"response":1}}}}}}},"operationId":"checkWork","x-description-ru":"<blockquote>\n<p><strong>ВАЖНО!</strong>\nURL сервера Onlinesim предоставляется сотрудниками партнерской поддержки\nОбратите внимание, что URL сервера Onlinesim в примере заменен на заглушку Данный запрос служит для подтверждения работоспособности Вашего сервера. Это альтернативный вариант отсылки запроса <a href=\"/ru/openapi_docs/Reseller-API-UN/post/api_resellers_sendNumbersOnline\">sendNumbersOnline</a> каждые 5 минут на сервер Onlinesim, Вы можете отсылать запрос <a href=\"ru/openapi_docs/Reseller-API-UN/get/api_resellers\">checkWork</a> без каких-либо дополнительных параметров с тем же временным интервалом.</p>\n</blockquote>\n","description":"<blockquote>\n<p><strong>IMPORTANT NOTE!</strong>\nURL of Onlinesim server is provided by Onlinesim partner support specialists\nPlease note, that the URL in the example is just a placeholder This request serves as confirmation that your server is up and running. This is alternative to sending <a href=\"/openapi_docs/Reseller-API-UN/post/api_resellers_sendNumbersOnline\">sendNumbersOnline</a> every 5 minutes, you can send <a href=\"openapi_docs/Reseller-API-UN/get/api_resellers\">checkWork</a> request with no additional parameters with same time interval.</p>\n</blockquote>\n","parameters":["#/components/parameters/Authorization"]}},"/api/resellers/removeNumber":{"delete":{"servers":[{"url":"https://www.ourserver.com"}],"summary":"removeNumber","operationId":"removeNumber","responses":{"200":{"x-description-ru":"Ответ сервера Onlinesim","description":"Onlinesim server response","content":{"application/json":{"schema":{"type":"object","properties":{"response":{"oneOf":[{"type":"string"},{"type":"integer"}],"x-description-ru":"1, если запрос был выполнен успешно, либо выведет сообщение об ошибке","description":"1, if request was successful, otherwise error message will come up","example":1}}},"examples":{"Example response from Onlinesim server when numbers were successfuly removed from the list":{"value":{"response":1}}}}}}},"x-description-ru":"<blockquote>\n<p><strong>ВАЖНО!</strong>\nURL сервера Onlinesim предоставляется сотрудниками партнерской поддержки\nОбратите внимание, что URL сервера Onlinesim в примере заменен на заглушку Этот запрос позволяет удалять конкретные номера из списка Ваших текущих номеров.</p>\n</blockquote>\n<p>Вы можете использовать этот запрос вместо <a href=\"/ru/openapi_docs/Reseller-API-UN/post/api_resellers_sendNumbersOnline\">sendNumbersOnline</a> для изменения списка номеров, удаляя некоторые ранее переданные номера из списка.</p>\n","description":"<blockquote>\n<p><strong>IMPORTANT NOTE!</strong>\nURL of Onlinesim server is provided by Onlinesim partner support specialists\nPlease note, that the URL in the example is just a placeholder This request allows to delete specific numbers from the list of your current numbers.</p>\n</blockquote>\n<p>You can use it instead of <a href=\"/openapi_docs/Reseller-API-UN/post/api_resellers_sendNumbersOnline\">sendNumbersOnline</a> request to modify the list of numbers precisely, by deleting the numbers that are on the list.</p>\n","tags":["v2"],"parameters":[{"schema":{"type":"string","example":"+460509081050"},"in":"query","name":"number","x-description-ru":"Номер телефона в международном формате (включая код страны)","description":"Phone number in international format (including country code)","required":true},{"schema":{"type":"string","enum":["test1","test2"]},"in":"query","name":"test","x-description-ru":"&#x27;Параметр для тестов. Может принимать одно из двух значений: `test1` или `test2`.\nБудучи равным `test1` отправит запрос на сервер, но данные, переданные таким запросом не будут сохранены нашим сервером (не вызовет исполнения функции).\nЕсли параметр будет равен `test2`, то сервер Onlinesim в ответе вернет тело Вашего запроса.&#x27;\n","description":"<p>&#39;Testing parameter. Allowed values are <code>test1</code>, <code>test2</code>.\nWhile being assigned, <code>test1</code> value will allow the request to be passed, however the data won&#39;t be saved by our server (the function will not be executed by this request).\nWhile being assigned, <code>test2</code> value will print out your request&#39;s payload in response.&#39;</p>\n"},"#/components/parameters/Authorization"]}},"/api/auth/me":{"post":{"servers":[{"url":"https://www.ourserver.com"}],"summary":"saveConfig","operationId":"saveConfig","responses":{"200":{"x-description-ru":"Ответ сервера Onlinesim","description":"Onlinesim server response","content":{"application/json":{"schema":{"type":"object","properties":{"response":{"oneOf":[{"type":"string"},{"type":"integer"}],"x-description-ru":"1, если запрос был выполнен успешно, либо выведет сообщение об ошибке","description":"1, if request was successful, otherwise error message will come up","example":1}}},"examples":{"Example response from Onlinesim server for successfuly modified service blacklist":{"value":{"response":1}}}}}}},"tags":["v2"],"x-description-ru":"<blockquote>\n<p><strong>ВАЖНО!</strong>\nURL сервера Onlinesim предоставляется сотрудниками партнерской поддержки\nОбратите внимание, что URL сервера Onlinesim в примере заменен на заглушку Этот запрос позволяет добавлять сервисы в список исключений, запрещая выдавать Ваши номера клиентам для приема SMS от указанных сервисов.</p>\n</blockquote>\n<p>Данный запрос может пригодиться, когда Вы используете свои номера для SMS верификации отдельных сервисов для своих собственных нужд или проектов. Этот запрос заблокирует возможность использовать все номера Вашего аккаунта для данных сервисов, немедленно присваивая им статус `USED` и не допуская их выдачи клиентам под указанные сервисы.</p>\n<blockquote>\n<p><strong>ВАЖНО!</strong>\nЭтот запрос изменяет список исключений полностью, поэтому если Вы хотите добавить дополнительный сервис к уже существующему списку, Вам необходимо передавать в запросе тот список сервисов, который уже был передан ранее и новый сервис для блокировки.</p>\n</blockquote>\n","description":"<blockquote>\n<p><strong>IMPORTANT NOTE!</strong>\nURL of Onlinesim server is provided by Onlinesim partner support specialists\nPlease note, that the URL in the example is just a placeholder This request allows to add services to the blacklist preventing them to be used for SMS activation on your numbers.</p>\n</blockquote>\n<p>This request might come in handy when you use your numbers for SMS verification for your own purposes or projects. It will block these services on your account entirely immediately assigning them `USED` status and preventing them to be issued to the clients.</p>\n<blockquote>\n<p><strong>IMPORTANT NOTE!</strong>\nThis request modifies the whole blacklist, so if you want to add a new service to it, you should also include those services that were on the list before.</p>\n</blockquote>\n","parameters":["#/components/parameters/Authorization"],"requestBody":{"content":{"application/json":{"schema":{"type":"object","x-examples":{"example-1":{"disabled_service":{"aaaa":"aaaa","bbbbb":"bbbb"}}},"properties":{"disabled_service":{"type":"object","properties":{"#service_name#":{"type":"string","x-description-ru":"Имя сервиса и его значение должны совпадать","description":"Service name and it&#x27;s value must be identical"}}}}},"examples":{"Example payload for adding VKcom and Facebook to the blacklist":{"value":{"disabled_service":{"vkcom":"vkcom","facebook":"facebook"}}}}}},"x-description-ru":"Тело запроса saveConfig","description":"Payload for saveConfig request"}}},"/services":{"get":{"servers":[{"url":"{testServer}","description":"Server for current request"}],"summary":"Service list","tags":["v1"],"responses":{"200":{"x-description-ru":"Пример успешного ответа на запрос списка названий сервисов","description":"Example of successful response","content":{"application/json":{"schema":{"type":"object","properties":{"response":{"type":"string","x-description-ru":"1, если запрос был выполнен успешно, либо выведет сообщение об ошибке","description":"1, if request was successful, otherwise error message will come up","x-stoplight":{"id":"h8oqvgzzhm9ta"}},"services":{"type":"object","x-stoplight":{"id":"cg3ku78vk9me8"},"x-description-ru":"Список сервисов","description":"List of services","properties":{"service_name":{"type":"string","x-stoplight":{"id":"8zt6zct3whnpr"},"x-description-ru":"Название сервиса и соответствующий ему slug (короткое имя сервиса, необходимое для заказа)","description":"Service name and corresponding slug (encoded service name, required for order)"}}}}},"examples":{"Example of service list":{"value":{"response":"1","services":{"3223":"fb","vkcom":"vk","mailru":"ma"}}}}}}}},"operationId":"get-api-v1-info-services","x-description-ru":"<p>Этот запрос возвращает список всех сервисов.\n<strong>Ответ Вашего сервера на запрос GET_SERVICES должен использовать указанные в этом списке значения названий сервисов.</strong>\nПожалуйста, обратите внимание, что некоторые сервисы могут быть отключены для определенной страны, поскольку ряд приложений и сайтов ориентируются на один или несколько регионов, исключая возможность регистрации через номера других стран.</p>\n","description":"<p>This request returns a list of names for all services.\n<strong>Your GET_SERVICES server response must use service names listed here.</strong>\nPlease note that some services might be disabled for certain countries as some apps and websites target specifically one or a few regions, disabling the ability to use phone numbers from other countries.</p>\n"},"parameters":[]},"/countries":{"get":{"servers":[{"url":"{testServer}","description":"Server for current request"}],"summary":"Country list","tags":["v1"],"responses":{"200":{"description":"Example of successful response","content":{"application/json":{"schema":{"type":"object","properties":{"response":{"type":"string","x-description-ru":"1, если запрос был выполнен успешно, либо выведет сообщение об ошибке","description":"1, if request was successful, otherwise error message will come up","x-stoplight":{"id":"kv7qy6jp98hie"}},"countries":{"type":"object","x-stoplight":{"id":"eakvqs5cjpufa"},"properties":{"country_code":{"type":"string","x-stoplight":{"id":"6qh3ccsv7kbj0"},"x-description-ru":"Международный телефонный код страны и ее название","description":"International country code and it&#x27;s name name"}}}}}}}}},"operationId":"get-api-v1-info-countries","x-description-ru":"<p>Этот запрос возвращает список названий стран.\n<strong>Ответ Вашего сервера на запрос GET_SERVICES должен использовать указанные в этом списке значения названий стран.</strong>\nПожалуйста, обратите внимание, что некоторые страны могут быть временно выключены на нашем сайте, поэтому при добавлении номеров стран, которые Вы ранее не предоставляли, сообщите об этом нам.</p>\n","description":"<p>This request returns a list of country names.\n<strong>Your GET_SERVICES server response must use country names listed here.</strong>\nNote that some countries might be temporarily disabled on our website. Please inform us whenever you want to add numbers for the countries you were not providing previosly.</p>\n"},"parameters":[]}},"components":{"schemas":{},"securitySchemes":{"APIkey":{"name":"Bearer apiKey","type":"apiKey","in":"header"}},"parameters":{"Authorization":{"name":"Authorization","in":"header","required":true,"schema":{"type":"string","example":"Bearer apiKey"},"x-description-ru":"API ключ должен быть передан в заголовке этого запроса","description":"API key should be passed in the header of this request"},"Content-Type":{"name":"Content-Type","in":"header","required":true,"schema":{"type":"string","enum":["application/json; charset=utf-8"],"example":"application/json; charset=utf-8"},"x-description-ru":"Заголовок `Content type` и кодировка","description":"`Content type` header and encoding scheme"}},"responses":{}},"tags":{"v1":{"name":"v1","x-description-ru":"v1 API для партнеров (сервер Onlinesim запрашивает номера у Вашего)","description":"v1 API for partners (our server requests numbers from yours)"},"v1 rent":{"name":"v1 rent","x-description-ru":"v1 API для аренды Ваших номеров (сервер Onlinesim запрашивает номера у Вашего)","description":"v1 API for renting your numbers (our server requests numbers from yours)"},"v2":{"name":"v2","x-description-ru":"v2 API для партнеров (Ваш сервер отсылает все доступные для продажи номера на сервер Onlinesim)","description":"v2 API for partners (your server sends a list of available numbers to our server)"}}}